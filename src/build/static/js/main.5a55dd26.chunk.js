(this.webpackJsonptrips=this.webpackJsonptrips||[]).push([[0],{116:function(e,t,n){},163:function(e,t,n){},164:function(e,t,n){},165:function(e,t,n){},166:function(e,t,n){},175:function(e,t,n){},176:function(e,t,n){},178:function(e,t,n){},180:function(e,t,n){"use strict";n.r(t);var c=n(1),r=(n(112),n(3)),s=n.n(r),i=n(19),l=n.n(i),a=(n(116),n(21)),j=n(18),o=n(5),d=(n(40),n(11)),h=n.n(d),b=n(16),u=n(2),O=n(69).CognitoIdentityClient,x=n(182).fromCognitoIdentityPool,m=n(179),p=m.S3Client,v=m.GetObjectCommand,g=m.PutObjectCommand,f="us-west-2",I=new p({region:f,credentials:x({client:new O({region:f}),identityPoolId:"us-west-2:ad443065-eddd-405b-bfa1-9a25eeae2bc0"})}),C="t-novak-trips",w=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;return"string"===typeof e?Object(c.jsx)(u.Image,{size:t,style:n,src:e}):null},L=function(){var e=Object(b.a)(h.a.mark((function e(t){return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.abrupt("return",I.send(new v({Bucket:C,Key:"images/".concat(t)})).then((function(e){var t=e.Body.getReader();return new ReadableStream({start:function(e){return function n(){return t.read().then((function(t){var c=t.done,r=t.value;if(!c)return e.enqueue(r),n();e.close()}))}()}})})).then((function(e){return new Response(e)})).then((function(e){return e.blob()})).then((function(e){return URL.createObjectURL(e)})).then((function(e){return e})));case 4:e.prev=4,e.t0=e.catch(0),console.error(e.t0);case 7:case"end":return e.stop()}}),e,null,[[0,4]])})));return function(t){return e.apply(this,arguments)}}(),S=function(){var e=Object(b.a)(h.a.mark((function e(t){var n,c,r,s;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t[0],c=n.name,r="images/".concat(c),s={Bucket:C,Key:r,Body:n,ACL:"public-read"},e.prev=4,e.abrupt("return",I.send(new g(s)));case 8:e.prev=8,e.t0=e.catch(4),console.error(e.t0);case 11:case"end":return e.stop()}}),e,null,[[4,8]])})));return function(t){return e.apply(this,arguments)}}(),y=function(){var e=Object(r.useState)(null),t=Object(o.a)(e,2),n=t[0],s=t[1],i=Object(r.useState)(!0),l=Object(o.a)(i,2),a=l[0],j=l[1];a&&(L("nose4.jpg").then((function(e){s(e)})),j(!1));var d=n?Object(c.jsx)("img",{alt:n,src:n}):null;return Object(c.jsxs)(c.Fragment,{children:[Object(c.jsx)("h1",{children:"ABOUT"}),d]})},k=n(22),D=n(200),B=n(203),N=n(204);function M(e){return e.replace(/\s/g,"-").toLowerCase()}var T=n(15),z=n.n(T),A=n(32),G=n.n(A);function F(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"\u2014",n=e;return Array.isArray(e)?e.forEach((function(e,c){n[c]=e||t})):n=e||t,n}n(47);var H=u.Form.Input,E=u.Form.Field,R=u.Form.Control,P=u.Form.Label,W=u.Form.Textarea,_=u.Form.InputFile,J=function(e,t,n){return n.indexOf(e)===t},Y=Object(j.f)((function(e){var t=e.match.params.user,n=Object(r.useState)([]),s=Object(o.a)(n,2),i=s[0],l=s[1],j=Object(r.useState)(""),d=Object(o.a)(j,2),O=d[0],x=d[1],m=Object(r.useState)(""),p=Object(o.a)(m,2),v=p[0],g=p[1],f=Object(r.useState)([]),I=Object(o.a)(f,2),C=I[0],w=I[1],L=Object(r.useState)(""),S=Object(o.a)(L,2),y=S[0],T=S[1],A=Object(r.useState)(""),Y=Object(o.a)(A,2),U=Y[0],V=Y[1],Z=Object(r.useState)(""),q=Object(o.a)(Z,2),X=q[0],K=q[1],$=Object(r.useState)(""),Q=Object(o.a)($,2),ee=Q[0],te=Q[1],ne=Object(r.useState)(""),ce=Object(o.a)(ne,2),re=ce[0],se=ce[1],ie=Object(r.useState)("m"),le=Object(o.a)(ie,2),ae=le[0],je=le[1],oe=Object(r.useState)(new Date),de=Object(o.a)(oe,2),he=de[0],be=de[1],ue=Object(r.useState)(""),Oe=Object(o.a)(ue,2),xe=Oe[0],me=Oe[1],pe=Object(r.useState)(""),ve=Object(o.a)(pe,2),ge=ve[0],fe=ve[1],Ie=Object(r.useState)("Traditional"),Ce=Object(o.a)(Ie,2),we=Ce[0],Le=Ce[1],Se=Object(r.useState)(""),ye=Object(o.a)(Se,2),ke=ye[0],De=ye[1],Be=Object(r.useState)(""),Ne=Object(o.a)(Be,2),Me=Ne[0],Te=Ne[1],ze=Object(r.useState)(""),Ae=Object(o.a)(ze,2),Ge=Ae[0],Fe=Ae[1],He=Object(r.useState)(""),Ee=Object(o.a)(He,2),Re=Ee[0],Pe=Ee[1],We=Object(r.useState)(""),_e=Object(o.a)(We,2),Je=_e[0],Ye=_e[1],Ue=Object(r.useState)(" "),Ve=Object(o.a)(Ue,2),Ze=Ve[0],qe=Ve[1],Xe=Object(r.useState)(new z.a("5.10a","yds")),Ke=Object(o.a)(Xe,2),$e=Ke[0],Qe=Ke[1],et=Object(r.useState)([]),tt=Object(o.a)(et,2),nt=tt[0],ct=tt[1],rt=Object(r.useState)("Manual"),st=Object(o.a)(rt,2),it=st[0],lt=st[1],at=Object(r.useState)(!1),jt=Object(o.a)(at,2),ot=jt[0],dt=jt[1],ht=function(){var n=Object(b.a)(h.a.mark((function n(){return h.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(0!==O.length){n.next=4;break}dt(!0),n.next=7;break;case 4:return n.next=6,fetch("/api/".concat(t,"/trip-reports/submit"),{method:"post",body:JSON.stringify({report:{title:F(O),id:F(M(O)),date:F(he),desc:v,totalTime:F(xe),images:F(i),captions:F(nt,""),route:F(U),loc:F(y),coord:[F(C[0]),F(C[1])],pitches:F(X),totalLength:F(ge),disc:F(we),grade:$e._inputGrade,gradeSystem:$e._inputSystemName,sev:F(Ze,""),gear:ee,anchors:ke,elev:F(re),aspect:F(Me),approach:Ge,descent:Re,conditions:Je,upvotes:0}}),headers:{"Content-Type":"application/json"}});case 6:e.history.push("/tom-novak/trip-report-feed");case 7:case"end":return n.stop()}}),n)})));return function(){return n.apply(this,arguments)}}(),bt=i.length>0?Object(c.jsx)(u.List,{children:i.map((function(e,t){return Object(c.jsxs)(u.List.Item,{children:[Object(c.jsx)(u.Image,{width:"100%",src:e}),Object(c.jsx)(R,{children:Object(c.jsx)(W,{placeholder:"Caption",value:nt[t],onChange:function(e){return function(e,t){var n=Object(k.a)(nt);n[t]=e,ct(n)}(e.target.value,t)},id:"caption-text-area"})})]},t)}))}):null,ut="Manual"===it?Object(c.jsxs)(u.Level.Side,{align:"left",children:[Object(c.jsx)(u.Level.Item,{children:Object(c.jsx)(R,{children:Object(c.jsx)(H,{placeholder:"Latitude",value:C[0],onChange:function(e){return w([e.target.value,C[1]])}})})}),Object(c.jsx)(u.Level.Item,{children:Object(c.jsx)(R,{children:Object(c.jsx)(H,{placeholder:"Longitude",value:C[1],onChange:function(e){return w([C[0],e.target.value])}})})})]}):Object(c.jsxs)(u.Level.Side,{align:"left",children:[Object(c.jsx)(u.Level.Item,{children:Object(c.jsx)(u.Heading,{weight:"normal",size:5,children:"Latitude:"})}),Object(c.jsx)(u.Level.Item,{children:Object(c.jsx)(u.Heading,{size:5,children:C[0]})}),Object(c.jsx)(u.Level.Item,{children:Object(c.jsx)(u.Heading,{weight:"normal",size:5,children:"Longitude:"})}),Object(c.jsx)(u.Level.Item,{children:Object(c.jsx)(u.Heading,{size:5,children:C[1]})})]}),Ot=ot?Object(c.jsxs)(u.Message,{color:"info",children:[Object(c.jsxs)(u.Message.Header,{children:["Submit Failure",Object(c.jsx)(u.Button,{remove:!0,onClick:function(){return dt(!1)}})]}),Object(c.jsx)(u.Message.Body,{children:"Please add a title to your trip before submitting"})]}):null,xt=C[0]&&C[1]?Object(c.jsx)(D.a,{position:C}):null,mt="Map"===it?Object(c.jsxs)(B.a,{onClick:function(e){w([e.latlng.lat.toFixed(3),e.latlng.lng.toFixed(3)])},className:"add-report-map",center:[51.09,-115.34],zoom:12,children:[Object(c.jsx)(N.a,{url:"https://api.mapbox.com/styles/v1/{id}/tiles/{z}/{x}/{y}?access_token={accessToken}",attribution:'Map data \xa9 <a href="https://www.openstreetmap.org/">OpenStreetMap</a> contributors, <a href="https://creativecommons.org/licenses/by-sa/2.0/">CC-BY-SA</a>, Imagery (c) <a href="https://www.mapbox.com/">Mapbox</a>',maxZoom:18,id:"mapbox/outdoors-v11",accessToken:"pk.eyJ1IjoidG9tbm92YWsxMyIsImEiOiJja2VseGtxeGwyYmU0MnJtejdiZmIydHd2In0.Wx7ng-I076vOfOb2qNnTkA"}),xt]}):null;return Object(c.jsx)(u.Box,{children:Object(c.jsxs)(u.Columns,{className:"has-text-left",children:[Object(c.jsx)(u.Columns.Column,{size:"one-third",children:Object(c.jsxs)(E,{children:[Object(c.jsx)(P,{children:"Photos"}),bt,Object(c.jsx)(u.Level,{children:Object(c.jsx)(u.Level.Item,{children:Object(c.jsx)(R,{children:Object(c.jsx)(_,{icon:Object(c.jsx)(u.Icon,{icon:"upload"}),boxed:!0,onChange:function(e){l(i.concat(["http://localhost:3000/images/".concat(e.target.files[0].name)])),ct(nt.concat(""))}})})})})]})}),Object(c.jsxs)(u.Columns.Column,{size:"two-thirds",children:[Object(c.jsx)(u.Heading,{subtitle:!0,size:2,children:Object(c.jsx)("strong",{children:"Descriptive Report"})}),Object(c.jsxs)(u.Box,{children:[Object(c.jsxs)(E,{children:[Object(c.jsx)(P,{children:"Trip Title"}),Object(c.jsx)(R,{children:Object(c.jsx)(H,{placeholder:"Mt Assiniboine",value:O,onChange:function(e){return x(e.target.value)}})})]}),Object(c.jsxs)(u.Level,{children:[Object(c.jsx)(u.Level.Side,{align:"left",children:Object(c.jsx)(u.Level.Item,{children:Object(c.jsxs)(E,{children:[Object(c.jsx)(P,{children:"Date"}),Object(c.jsx)(G.a,{onChange:function(e){be(e)},value:he})]})})}),Object(c.jsx)(u.Level.Side,{align:"right",children:Object(c.jsx)(u.Level.Item,{children:Object(c.jsxs)(E,{children:[Object(c.jsx)(P,{children:"Time Taken (hrs)"}),Object(c.jsx)(R,{children:Object(c.jsx)(H,{placeholder:"8.5",value:xe,onChange:function(e){return me(e.target.value)}})})]})})})]}),Object(c.jsxs)(E,{children:[Object(c.jsx)(P,{children:"Trip Description"}),Object(c.jsx)(R,{children:Object(c.jsx)(W,{placeholder:"Description",value:v,onChange:function(e){return g(e.target.value)}})})]})]}),Object(c.jsx)(u.Heading,{subtitle:!0,size:2,children:Object(c.jsx)("strong",{children:"Route Details"})}),Object(c.jsxs)(u.Box,{children:[Object(c.jsxs)(u.Columns,{children:[Object(c.jsx)(u.Columns.Column,{size:"half",children:Object(c.jsxs)(E,{children:[Object(c.jsx)(P,{children:"Route"}),Object(c.jsx)(R,{children:Object(c.jsx)(H,{placeholder:"North Ridge",value:U,onChange:function(e){return V(e.target.value)}})})]})}),Object(c.jsx)(u.Columns.Column,{size:"half",children:Object(c.jsxs)(E,{children:[Object(c.jsx)(P,{children:"Location"}),Object(c.jsx)(R,{children:Object(c.jsx)(H,{placeholder:"Assiniboine Provincial Park",value:y,onChange:function(e){return T(e.target.value)}})})]})})]}),Object(c.jsx)(u.Box,{children:Object(c.jsxs)(E,{children:[Object(c.jsx)(P,{children:"Coordinates"}),Object(c.jsxs)(u.Level,{children:[ut,Object(c.jsx)(u.Level.Side,{align:"right",children:Object(c.jsx)(u.Level.Item,{children:Object(c.jsxs)(E,{kind:"addons",children:[Object(c.jsx)(R,{children:Object(c.jsx)(u.Button,{color:"Map"===it?"primary":"",onClick:function(){return lt("Map")},children:"Map"})}),Object(c.jsx)(R,{children:Object(c.jsx)(u.Button,{color:"Manual"===it?"primary":"",onClick:function(){return lt("Manual")},children:"Manual"})})]})})})]}),mt]})}),Object(c.jsx)(u.Level,{children:Object(c.jsxs)(u.Level.Side,{id:"level-shrink",align:"left",children:[Object(c.jsx)(u.Level.Item,{id:"level-shrink",children:Object(c.jsx)(u.Box,{children:Object(c.jsxs)(E,{children:[Object(c.jsx)(P,{children:"Pitches"}),Object(c.jsx)(R,{children:Object(c.jsx)(H,{placeholder:"N/A",value:X,onChange:function(e){return K(e.target.value)}})})]})})}),Object(c.jsx)(u.Level.Item,{id:"level-shrink",children:Object(c.jsx)(u.Box,{children:Object(c.jsxs)(E,{children:[Object(c.jsx)(P,{children:"Total Metres"}),Object(c.jsx)(R,{children:Object(c.jsx)(H,{placeholder:"606",value:ge,onChange:function(e){return fe(e.target.value)}})})]})})}),Object(c.jsx)(u.Level.Item,{id:"level-shrink",children:Object(c.jsx)(u.Box,{children:Object(c.jsxs)(E,{children:[Object(c.jsx)(P,{children:"Discipline"}),Object(c.jsxs)(u.Dropdown,{onChange:function(e){Le(e)},value:we,children:[Object(c.jsx)(u.Dropdown.Item,{value:"traditional",children:"Traditional"}),Object(c.jsx)(u.Dropdown.Item,{value:"sport",children:"Sport"}),Object(c.jsx)(u.Dropdown.Item,{value:"mixed",children:"Mixed"}),Object(c.jsx)(u.Dropdown.Item,{value:"ice",children:"Ice"}),Object(c.jsx)(u.Dropdown.Item,{value:"alpine",children:"Alpine"})]})]})})}),Object(c.jsx)(u.Level.Item,{id:"level-shrink",children:Object(c.jsx)(u.Box,{children:Object(c.jsxs)(E,{children:[Object(c.jsx)(P,{children:"Grade"}),Object(c.jsxs)(u.Level,{children:[Object(c.jsx)(u.Level.Item,{children:Object(c.jsx)(u.Dropdown,{onChange:function(e){Qe(new z.a(e,$e._inputSystemName))},value:$e._inputGrade,children:$e._systems[$e._inputSystemName].grades.filter(J).map((function(e){return Object(c.jsx)(u.Dropdown.Item,{value:e,children:e},e)}))})}),Object(c.jsx)(u.Level.Item,{children:Object(c.jsxs)(u.Dropdown,{onChange:function(e){qe(e)},value:Ze,children:[Object(c.jsx)(u.Dropdown.Item,{value:"",children:"N/A"}),Object(c.jsx)(u.Dropdown.Item,{value:"PG-13",children:"PG-13"}),Object(c.jsx)(u.Dropdown.Item,{value:"R",children:"R"}),Object(c.jsx)(u.Dropdown.Item,{value:"X",children:"X"})]})}),Object(c.jsx)(u.Level.Item,{children:Object(c.jsxs)(u.Dropdown,{onChange:function(e){Qe(new z.a(e.placeholderGrade,e.system))},value:$e.system,children:[Object(c.jsx)(u.Dropdown.Item,{value:{placeholderGrade:"5.10a",system:"yds"},children:"Yosemite Decimal System"}),Object(c.jsx)(u.Dropdown.Item,{value:{placeholderGrade:"6a",system:"french"},children:"French"}),Object(c.jsx)(u.Dropdown.Item,{value:{placeholderGrade:"18",system:"australian"},children:"Australian"}),Object(c.jsx)(u.Dropdown.Item,{value:{placeholderGrade:"hvs 5a",system:"british"},children:"British"}),Object(c.jsx)(u.Dropdown.Item,{value:{placeholderGrade:"19",system:"south_african"},children:"South African"}),Object(c.jsx)(u.Dropdown.Item,{value:{placeholderGrade:"VB",system:"hueco"},children:"Hueco"}),Object(c.jsx)(u.Dropdown.Item,{value:{placeholderGrade:"3+",system:"font"},children:"Fontainebleau"})]})})]})]})})})]})}),Object(c.jsx)(u.Box,{children:Object(c.jsxs)(u.Columns,{children:[Object(c.jsx)(u.Columns.Column,{size:"half",children:Object(c.jsxs)(E,{children:[Object(c.jsx)(P,{children:"Gear"}),Object(c.jsx)(R,{children:Object(c.jsx)(W,{placeholder:"Standard Rack to 3 in.",value:ee,onChange:function(e){return te(e.target.value)}})})]})}),Object(c.jsx)(u.Columns.Column,{size:"half",children:Object(c.jsxs)(E,{children:[Object(c.jsx)(P,{children:"Anchors"}),Object(c.jsx)(R,{children:Object(c.jsx)(W,{placeholder:"Bolted, gear, trees...",value:ke,onChange:function(e){return De(e.target.value)}})})]})})]})}),Object(c.jsx)(u.Box,{children:Object(c.jsxs)(u.Level,{children:[Object(c.jsx)(u.Level.Side,{align:"left",children:Object(c.jsx)(u.Level.Item,{children:Object(c.jsxs)(E,{children:[Object(c.jsx)(P,{children:"Elevation"}),Object(c.jsx)(u.Level,{children:Object(c.jsxs)(u.Level.Side,{align:"left",children:[Object(c.jsx)(u.Level.Item,{children:Object(c.jsx)(R,{children:Object(c.jsx)(H,{placeholder:"2000",value:re,onChange:function(e){return se(e.target.value)}})})}),Object(c.jsx)(u.Level.Item,{children:Object(c.jsxs)(E,{kind:"addons",children:[Object(c.jsx)(R,{children:Object(c.jsx)(u.Button,{color:"m"===ae?"primary":"",onClick:function(){return je("m")},children:"Metres"})}),Object(c.jsx)(R,{children:Object(c.jsx)(u.Button,{color:"ft"===ae?"primary":"",onClick:function(){return je("ft")},children:"Feet"})})]})})]})})]})})}),Object(c.jsx)(u.Level.Side,{align:"right",children:Object(c.jsx)(u.Level.Item,{children:Object(c.jsxs)(E,{children:[Object(c.jsx)(P,{children:"Aspect"}),Object(c.jsxs)(u.Dropdown,{onChange:function(e){Te(e)},value:Me,children:[Object(c.jsx)(u.Dropdown.Item,{value:"NW",children:"NW"}),Object(c.jsx)(u.Dropdown.Item,{value:"N",children:"N"}),Object(c.jsx)(u.Dropdown.Item,{value:"NE",children:"NE"}),Object(c.jsx)(u.Dropdown.Item,{value:"E",children:"E"}),Object(c.jsx)(u.Dropdown.Item,{value:"SE",children:"SE"}),Object(c.jsx)(u.Dropdown.Item,{value:"S",children:"S"}),Object(c.jsx)(u.Dropdown.Item,{value:"SW",children:"SW"}),Object(c.jsx)(u.Dropdown.Item,{value:"W",children:"W"})]})]})})})]})}),Object(c.jsx)(u.Box,{children:Object(c.jsxs)(u.Columns,{children:[Object(c.jsx)(u.Columns.Column,{size:"one-third",children:Object(c.jsxs)(E,{children:[Object(c.jsx)(P,{children:"Approach"}),Object(c.jsx)(R,{children:Object(c.jsx)(W,{placeholder:"Parking, hike in...",value:Ge,onChange:function(e){return Fe(e.target.value)}})})]})}),Object(c.jsx)(u.Columns.Column,{size:"one-third",children:Object(c.jsxs)(E,{children:[Object(c.jsx)(P,{children:"Descent"}),Object(c.jsx)(R,{children:Object(c.jsx)(W,{placeholder:"Walk-off, rappel...",value:Re,onChange:function(e){return Pe(e.target.value)}})})]})}),Object(c.jsx)(u.Columns.Column,{size:"one-third",children:Object(c.jsxs)(E,{children:[Object(c.jsx)(P,{children:"Route Conditions"}),Object(c.jsx)(R,{children:Object(c.jsx)(W,{placeholder:"Loose rock, early season conditions, wet...",value:Je,onChange:function(e){return Ye(e.target.value)}})})]})})]})})]}),Ot,Object(c.jsx)(u.Level,{children:Object(c.jsxs)(u.Level.Side,{align:"right",children:[Object(c.jsx)(u.Level.Item,{children:Object(c.jsx)(E,{children:Object(c.jsx)(u.Button,{color:"primary",onClick:function(){return ht()},children:"Submit"})})}),Object(c.jsx)(u.Level.Item,{children:Object(c.jsx)(E,{children:Object(c.jsx)(a.b,{to:"/tom-novak/home",children:Object(c.jsx)(u.Button,{color:"danger",children:"Discard"})})})})]})})]})]})})})),U=n(31),V=n(59),Z=function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new z.a("5.10a","yds"),c=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"",r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],s=arguments.length>4&&void 0!==arguments[4]?arguments[4]:[];Object(V.a)(this,e),this.number=0===t?"Approach":t,this.grade=n,this.length=c,this.images=r,this.captions=s},q=u.Form.Input,X=u.Form.Label,K=u.Form.Textarea,$=u.Form.InputFile,Q=function(e,t,n){return n.indexOf(e)===t},ee=function(e){var t=e.pitch,n=e.setParent,s=e.index,i=e.gradeSystem,l=e.deletePitch,a=Object(r.useState)(0),j=Object(o.a)(a,2),d=j[0],h=j[1],b=new Z(t.number,t.grade,t.length,t.images,t.captions),O=Object(r.useState)(t.images),x=Object(o.a)(O,2),m=x[0],p=x[1],v=isNaN(t.number)?t.number:"Pitch ".concat(t.number),g=t.grade?Object(c.jsx)(u.Dropdown,{onChange:function(e){return f(e)},value:t.grade._inputGrade,children:t.grade._systems[i].grades.filter(Q).map((function(e){return Object(c.jsx)(u.Dropdown.Item,{value:e,children:e},e)}))}):null,f=function(e){b.grade=new z.a(e,t.grade._inputSystemName),n(b,s)},I=function(e){d!==e&&h(e)},C=b.images.length>0?b.images.map((function(e,t){return e.startsWith("blob")?Object(c.jsx)("img",{alt:e,src:e},t):null})):null,w=b.captions.length>0?b.captions.map((function(e,r){return Object(c.jsx)("div",{children:Object(c.jsx)(K,{placeholder:"Caption",value:t.captions[r],onChange:function(e){return function(e,t){var c=Object(k.a)(b.captions);c[t]=e,b.captions=c,n(b,s)}(e.target.value,r)}})},r)})):null;return Object(c.jsxs)(u.Box,{children:[Object(c.jsxs)(u.Level,{children:[Object(c.jsx)(u.Level.Side,{align:"left",children:Object(c.jsx)(u.Level.Item,{children:Object(c.jsx)(X,{children:v})})}),Object(c.jsxs)(u.Level.Side,{align:"right",children:[Object(c.jsx)(u.Level.Item,{children:Object(c.jsx)(u.Heading,{heading:!0,children:"Grade:"})}),Object(c.jsx)(u.Level.Item,{children:g}),Object(c.jsx)(u.Level.Item,{children:Object(c.jsx)(u.Heading,{heading:!0,children:"Length (m):"})}),Object(c.jsx)(u.Level.Item,{children:Object(c.jsx)(q,{placeholder:"30",value:t.length,onChange:function(e){return t=e.target.value,void(isNaN(t)||(b.length=t,n(b,s)));var t}})}),Object(c.jsx)(u.Level.Item,{children:Object(c.jsx)(u.Button,{onClick:function(){l(s)},color:"light",children:"Remove Pitch"})}),Object(c.jsx)(u.Level.Item,{children:Object(c.jsx)(u.Button,{onClick:function(){isNaN(b.number)?b.number=s:b.number="Descent",n(b,s)},color:"Descent"===b.number?"primary":"light",children:"Descent"})})]})]}),Object(c.jsx)(u.Heading,{heading:!0,children:"Images"}),Object(c.jsx)(U.Carousel,{showThumbs:!1,onChange:I,selectedItem:d,children:C}),Object(c.jsx)(U.Carousel,{showThumbs:!1,showStatus:!1,showIndicators:!1,onChange:I,selectedItem:d,children:w}),Object(c.jsx)(u.Level,{children:Object(c.jsx)(u.Level.Item,{children:Object(c.jsx)($,{icon:Object(c.jsx)(u.Icon,{icon:"upload"}),boxed:!0,onChange:function(e){return t=e.target.files,b.images=b.images.concat([t[0].name]),m.concat([t[0].name]),S(t).then((function(e){return m.map((function(e,t){return e.startsWith("blob")||L(e).then((function(e){console.log("hit");var n=Object(k.a)(m);n[t]=e,p(n)})),0}))})),b.captions=b.captions.concat(""),void n(b,s);var t}})})})]})},te=u.Form.Input,ne=u.Form.Field,ce=u.Form.Control,re=u.Form.Label,se=u.Form.Textarea,ie=u.Form.InputFile,le=function(e,t,n){return n.indexOf(e)===t},ae=Object(j.f)((function(e){var t=e.match.params.user,n=Object(r.useState)([]),s=Object(o.a)(n,2),i=s[0],l=(s[1],Object(r.useState)("")),j=Object(o.a)(l,2),d=j[0],O=j[1],x=Object(r.useState)(""),m=Object(o.a)(x,2),p=m[0],v=m[1],g=Object(r.useState)(""),f=Object(o.a)(g,2),I=f[0],C=f[1],w=Object(r.useState)(null),y=Object(o.a)(w,2),T=y[0],A=y[1],H=Object(r.useState)([]),E=Object(o.a)(H,2),R=E[0],P=E[1],W=Object(r.useState)(""),_=Object(o.a)(W,2),J=_[0],Y=_[1],U=Object(r.useState)(""),V=Object(o.a)(U,2),q=V[0],X=V[1],K=Object(r.useState)(""),$=Object(o.a)(K,2),Q=$[0],ae=$[1],je=Object(r.useState)(""),oe=Object(o.a)(je,2),de=oe[0],he=oe[1],be=Object(r.useState)(""),ue=Object(o.a)(be,2),Oe=ue[0],xe=ue[1],me=Object(r.useState)("m"),pe=Object(o.a)(me,2),ve=pe[0],ge=pe[1],fe=Object(r.useState)(new Date),Ie=Object(o.a)(fe,2),Ce=Ie[0],we=Ie[1],Le=Object(r.useState)(""),Se=Object(o.a)(Le,2),ye=Se[0],ke=Se[1],De=Object(r.useState)(""),Be=Object(o.a)(De,2),Ne=Be[0],Me=Be[1],Te=Object(r.useState)("Traditional"),ze=Object(o.a)(Te,2),Ae=ze[0],Ge=ze[1],Fe=Object(r.useState)(""),He=Object(o.a)(Fe,2),Ee=He[0],Re=He[1],Pe=Object(r.useState)(""),We=Object(o.a)(Pe,2),_e=We[0],Je=We[1],Ye=Object(r.useState)(""),Ue=Object(o.a)(Ye,2),Ve=Ue[0],Ze=Ue[1],qe=Object(r.useState)(""),Xe=Object(o.a)(qe,2),Ke=Xe[0],$e=Xe[1],Qe=Object(r.useState)(""),et=Object(o.a)(Qe,2),tt=et[0],nt=et[1],ct=Object(r.useState)(" "),rt=Object(o.a)(ct,2),st=rt[0],it=rt[1],lt=Object(r.useState)(new z.a("5.10a","yds")),at=Object(o.a)(lt,2),jt=at[0],ot=at[1],dt=Object(r.useState)([]),ht=Object(o.a)(dt,2),bt=ht[0],ut=ht[1],Ot=Object(r.useState)("Manual"),xt=Object(o.a)(Ot,2),mt=xt[0],pt=xt[1],vt=Object(r.useState)(!1),gt=Object(o.a)(vt,2),ft=gt[0],It=gt[1],Ct=Object(r.useState)([]),wt=Object(o.a)(Ct,2),Lt=wt[0],St=wt[1],yt=Object(r.useState)(!0),kt=Object(o.a)(yt,2),Dt=kt[0],Bt=kt[1],Nt=function(){var n=Object(b.a)(h.a.mark((function n(){return h.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(0!==d.length){n.next=4;break}It(!0),n.next=8;break;case 4:return console.log(Lt),n.next=7,fetch("/api/".concat(t,"/picture-trip-reports/submit"),{method:"post",body:JSON.stringify({report:{title:F(d),author:F(p),id:F(M(d)),date:F(Ce),desc:I,coverImg:T,totalTime:F(ye),pitchArray:Lt,images:F(i),captions:F(bt,""),route:F(q),loc:F(J),coord:[F(R[0]),F(R[1])],pitches:F(Q),totalLength:F(Ne),disc:F(Ae),grade:jt._inputGrade,gradeSystem:jt._inputSystemName,sev:F(st,""),gear:de,anchors:Ee,elev:F(Oe),aspect:F(_e),approach:Ve,descent:Ke,conditions:tt,upvotes:0}}),headers:{"Content-Type":"application/json"}});case 7:e.history.push("/tom-novak/trip-report-feed/list");case 8:case"end":return n.stop()}}),n)})));return function(){return n.apply(this,arguments)}}();T&&Dt&&(L(T).then((function(e){return A(e)})),Bt(!1));var Mt=function(e,t){var n=Object(k.a)(Lt);n[t]=e,St(n)},Tt=function(e){var t=Object(k.a)(Lt);t[e]=null,St(t)},zt=(i.length>0&&(u.List,i.map((function(e,t){return Object(c.jsxs)(u.List.Item,{children:[Object(c.jsx)(u.Image,{width:"100%",src:e}),Object(c.jsx)(ce,{children:Object(c.jsx)(se,{placeholder:"Caption",value:bt[t],onChange:function(e){return function(e,t){var n=Object(k.a)(bt);n[t]=e,ut(n)}(e.target.value,t)},id:"caption-text-area"})})]},t)}))),T&&T.startsWith("blob")?Object(c.jsx)(u.Image,{width:"100%",src:T}):null),At=Lt.length>0?Object(c.jsx)(u.List,{children:Lt.map((function(e,t){return e?Object(c.jsx)(u.List.Item,{children:Object(c.jsx)(ee,{pitch:e,index:t,setParent:Mt,deletePitch:Tt,gradeSystem:jt._inputSystemName})},t):null}))}):null,Gt="Manual"===mt?Object(c.jsxs)(u.Level.Side,{align:"left",children:[Object(c.jsx)(u.Level.Item,{children:Object(c.jsx)(ce,{children:Object(c.jsx)(te,{placeholder:"Latitude",value:R[0],onChange:function(e){return P([e.target.value,R[1]])}})})}),Object(c.jsx)(u.Level.Item,{children:Object(c.jsx)(ce,{children:Object(c.jsx)(te,{placeholder:"Longitude",value:R[1],onChange:function(e){return P([R[0],e.target.value])}})})})]}):Object(c.jsxs)(u.Level.Side,{align:"left",children:[Object(c.jsx)(u.Level.Item,{children:Object(c.jsx)(u.Heading,{weight:"normal",size:5,children:"Latitude:"})}),Object(c.jsx)(u.Level.Item,{children:Object(c.jsx)(u.Heading,{size:5,children:R[0]})}),Object(c.jsx)(u.Level.Item,{children:Object(c.jsx)(u.Heading,{weight:"normal",size:5,children:"Longitude:"})}),Object(c.jsx)(u.Level.Item,{children:Object(c.jsx)(u.Heading,{size:5,children:R[1]})})]}),Ft=ft?Object(c.jsxs)(u.Message,{color:"info",children:[Object(c.jsxs)(u.Message.Header,{children:["Submit Failure",Object(c.jsx)(u.Button,{remove:!0,onClick:function(){return It(!1)}})]}),Object(c.jsx)(u.Message.Body,{children:"Please add a title to your trip before submitting"})]}):null,Ht=R[0]&&R[1]?Object(c.jsx)(D.a,{position:R}):null,Et="Map"===mt?Object(c.jsxs)(B.a,{onClick:function(e){P([e.latlng.lat.toFixed(3),e.latlng.lng.toFixed(3)])},className:"add-report-map",center:[51.09,-115.34],zoom:12,children:[Object(c.jsx)(N.a,{url:"https://api.mapbox.com/styles/v1/{id}/tiles/{z}/{x}/{y}?access_token={accessToken}",attribution:'Map data \xa9 <a href="https://www.openstreetmap.org/">OpenStreetMap</a> contributors, <a href="https://creativecommons.org/licenses/by-sa/2.0/">CC-BY-SA</a>, Imagery (c) <a href="https://www.mapbox.com/">Mapbox</a>',maxZoom:18,id:"mapbox/outdoors-v11",accessToken:"pk.eyJ1IjoidG9tbm92YWsxMyIsImEiOiJja2VseGtxeGwyYmU0MnJtejdiZmIydHd2In0.Wx7ng-I076vOfOb2qNnTkA"}),Ht]}):null;return Object(c.jsx)(u.Box,{children:Object(c.jsxs)(u.Columns,{className:"has-text-left",children:[Object(c.jsx)(u.Columns.Column,{}),Object(c.jsxs)(u.Columns.Column,{size:"two-thirds",children:[Object(c.jsx)(u.Heading,{subtitle:!0,size:2,children:Object(c.jsx)("strong",{children:"Report Summary"})}),Object(c.jsxs)(u.Box,{children:[Object(c.jsxs)(ne,{children:[Object(c.jsx)(re,{children:"Title"}),Object(c.jsx)(ce,{children:Object(c.jsx)(te,{placeholder:"Mt Assiniboine",value:d,onChange:function(e){return O(e.target.value)}})})]}),Object(c.jsxs)(ne,{children:[Object(c.jsx)(re,{children:"Author"}),Object(c.jsx)(ce,{children:Object(c.jsx)(te,{placeholder:"John Smith",value:p,onChange:function(e){return v(e.target.value)}})})]}),Object(c.jsxs)(u.Level,{children:[Object(c.jsx)(u.Level.Side,{align:"left",children:Object(c.jsx)(u.Level.Item,{children:Object(c.jsxs)(ne,{children:[Object(c.jsx)(re,{children:"Date"}),Object(c.jsx)(G.a,{onChange:function(e){we(e)},value:Ce})]})})}),Object(c.jsx)(u.Level.Side,{align:"right",children:Object(c.jsx)(u.Level.Item,{children:Object(c.jsxs)(ne,{children:[Object(c.jsx)(re,{children:"Time Taken (hrs)"}),Object(c.jsx)(ce,{children:Object(c.jsx)(te,{placeholder:"8.5",value:ye,onChange:function(e){return ke(e.target.value)}})})]})})})]}),Object(c.jsxs)(ne,{children:[Object(c.jsx)(re,{children:"Summary"}),Object(c.jsx)(ce,{children:Object(c.jsx)(se,{placeholder:"Description",value:I,onChange:function(e){return C(e.target.value)}})})]}),Object(c.jsx)(re,{children:"Cover Photo"}),zt,Object(c.jsx)(ne,{children:Object(c.jsx)(ie,{icon:Object(c.jsx)(u.Icon,{icon:"upload"}),boxed:!0,onChange:function(e){console.log(e.target.files[0]),A(e.target.files[0].name),S(e.target.files)}})})]}),Object(c.jsx)(u.Heading,{subtitle:!0,size:2,children:Object(c.jsx)("strong",{children:"Pitch-by-Pitch Details"})}),Object(c.jsxs)(u.Box,{children:[At,Object(c.jsx)(u.Button,{onClick:function(){return St(Lt.concat(new Z(Lt.length)))},children:"Add Pitch"})]}),Object(c.jsx)(u.Heading,{subtitle:!0,size:2,children:Object(c.jsx)("strong",{children:"Route Details"})}),Object(c.jsxs)(u.Box,{children:[Object(c.jsxs)(u.Columns,{children:[Object(c.jsx)(u.Columns.Column,{size:"half",children:Object(c.jsxs)(ne,{children:[Object(c.jsx)(re,{children:"Route"}),Object(c.jsx)(ce,{children:Object(c.jsx)(te,{placeholder:"North Ridge",value:q,onChange:function(e){return X(e.target.value)}})})]})}),Object(c.jsx)(u.Columns.Column,{size:"half",children:Object(c.jsxs)(ne,{children:[Object(c.jsx)(re,{children:"Location"}),Object(c.jsx)(ce,{children:Object(c.jsx)(te,{placeholder:"Assiniboine Provincial Park",value:J,onChange:function(e){return Y(e.target.value)}})})]})})]}),Object(c.jsx)(u.Box,{children:Object(c.jsxs)(ne,{children:[Object(c.jsx)(re,{children:"Coordinates"}),Object(c.jsxs)(u.Level,{children:[Gt,Object(c.jsx)(u.Level.Side,{align:"right",children:Object(c.jsx)(u.Level.Item,{children:Object(c.jsxs)(ne,{kind:"addons",children:[Object(c.jsx)(ce,{children:Object(c.jsx)(u.Button,{color:"Map"===mt?"primary":"",onClick:function(){return pt("Map")},children:"Map"})}),Object(c.jsx)(ce,{children:Object(c.jsx)(u.Button,{color:"Manual"===mt?"primary":"",onClick:function(){return pt("Manual")},children:"Manual"})})]})})})]}),Et]})}),Object(c.jsx)(u.Level,{children:Object(c.jsxs)(u.Level.Side,{id:"level-shrink",align:"left",children:[Object(c.jsx)(u.Level.Item,{id:"level-shrink",children:Object(c.jsx)(u.Box,{children:Object(c.jsxs)(ne,{children:[Object(c.jsx)(re,{children:"Pitches"}),Object(c.jsx)(ce,{children:Object(c.jsx)(te,{placeholder:"N/A",value:Q,onChange:function(e){return ae(e.target.value)}})})]})})}),Object(c.jsx)(u.Level.Item,{id:"level-shrink",children:Object(c.jsx)(u.Box,{children:Object(c.jsxs)(ne,{children:[Object(c.jsx)(re,{children:"Total Metres"}),Object(c.jsx)(ce,{children:Object(c.jsx)(te,{placeholder:"606",value:Ne,onChange:function(e){return Me(e.target.value)}})})]})})}),Object(c.jsx)(u.Level.Item,{id:"level-shrink",children:Object(c.jsx)(u.Box,{children:Object(c.jsxs)(ne,{children:[Object(c.jsx)(re,{children:"Discipline"}),Object(c.jsxs)(u.Dropdown,{onChange:function(e){Ge(e)},value:Ae,children:[Object(c.jsx)(u.Dropdown.Item,{value:"traditional",children:"Traditional"}),Object(c.jsx)(u.Dropdown.Item,{value:"sport",children:"Sport"}),Object(c.jsx)(u.Dropdown.Item,{value:"mixed",children:"Mixed"}),Object(c.jsx)(u.Dropdown.Item,{value:"ice",children:"Ice"}),Object(c.jsx)(u.Dropdown.Item,{value:"alpine",children:"Alpine"})]})]})})}),Object(c.jsx)(u.Level.Item,{id:"level-shrink",children:Object(c.jsx)(u.Box,{children:Object(c.jsxs)(ne,{children:[Object(c.jsx)(re,{children:"Grade"}),Object(c.jsxs)(u.Level,{children:[Object(c.jsx)(u.Level.Item,{children:Object(c.jsx)(u.Dropdown,{onChange:function(e){ot(new z.a(e,jt._inputSystemName))},value:jt._inputGrade,children:jt._systems[jt._inputSystemName].grades.filter(le).map((function(e){return Object(c.jsx)(u.Dropdown.Item,{value:e,children:e},e)}))})}),Object(c.jsx)(u.Level.Item,{children:Object(c.jsxs)(u.Dropdown,{onChange:function(e){it(e)},value:st,children:[Object(c.jsx)(u.Dropdown.Item,{value:"",children:"N/A"}),Object(c.jsx)(u.Dropdown.Item,{value:"PG-13",children:"PG-13"}),Object(c.jsx)(u.Dropdown.Item,{value:"R",children:"R"}),Object(c.jsx)(u.Dropdown.Item,{value:"X",children:"X"})]})}),Object(c.jsx)(u.Level.Item,{children:Object(c.jsxs)(u.Dropdown,{onChange:function(e){ot(new z.a(e.placeholderGrade,e.system))},value:jt.system,children:[Object(c.jsx)(u.Dropdown.Item,{value:{placeholderGrade:"5.10a",system:"yds"},children:"Yosemite Decimal System"}),Object(c.jsx)(u.Dropdown.Item,{value:{placeholderGrade:"6a",system:"french"},children:"French"}),Object(c.jsx)(u.Dropdown.Item,{value:{placeholderGrade:"18",system:"australian"},children:"Australian"}),Object(c.jsx)(u.Dropdown.Item,{value:{placeholderGrade:"hvs 5a",system:"british"},children:"British"}),Object(c.jsx)(u.Dropdown.Item,{value:{placeholderGrade:"19",system:"south_african"},children:"South African"}),Object(c.jsx)(u.Dropdown.Item,{value:{placeholderGrade:"VB",system:"hueco"},children:"Hueco"}),Object(c.jsx)(u.Dropdown.Item,{value:{placeholderGrade:"3+",system:"font"},children:"Fontainebleau"})]})})]})]})})})]})}),Object(c.jsx)(u.Box,{children:Object(c.jsxs)(u.Columns,{children:[Object(c.jsx)(u.Columns.Column,{size:"half",children:Object(c.jsxs)(ne,{children:[Object(c.jsx)(re,{children:"Gear"}),Object(c.jsx)(ce,{children:Object(c.jsx)(se,{placeholder:"Standard Rack to 3 in.",value:de,onChange:function(e){return he(e.target.value)}})})]})}),Object(c.jsx)(u.Columns.Column,{size:"half",children:Object(c.jsxs)(ne,{children:[Object(c.jsx)(re,{children:"Anchors"}),Object(c.jsx)(ce,{children:Object(c.jsx)(se,{placeholder:"Bolted, gear, trees...",value:Ee,onChange:function(e){return Re(e.target.value)}})})]})})]})}),Object(c.jsx)(u.Box,{children:Object(c.jsxs)(u.Level,{children:[Object(c.jsx)(u.Level.Side,{align:"left",children:Object(c.jsx)(u.Level.Item,{children:Object(c.jsxs)(ne,{children:[Object(c.jsx)(re,{children:"Elevation"}),Object(c.jsx)(u.Level,{children:Object(c.jsxs)(u.Level.Side,{align:"left",children:[Object(c.jsx)(u.Level.Item,{children:Object(c.jsx)(ce,{children:Object(c.jsx)(te,{placeholder:"2000",value:Oe,onChange:function(e){return xe(e.target.value)}})})}),Object(c.jsx)(u.Level.Item,{children:Object(c.jsxs)(ne,{kind:"addons",children:[Object(c.jsx)(ce,{children:Object(c.jsx)(u.Button,{color:"m"===ve?"primary":"",onClick:function(){return ge("m")},children:"Metres"})}),Object(c.jsx)(ce,{children:Object(c.jsx)(u.Button,{color:"ft"===ve?"primary":"",onClick:function(){return ge("ft")},children:"Feet"})})]})})]})})]})})}),Object(c.jsx)(u.Level.Side,{align:"right",children:Object(c.jsx)(u.Level.Item,{children:Object(c.jsxs)(ne,{children:[Object(c.jsx)(re,{children:"Aspect"}),Object(c.jsxs)(u.Dropdown,{onChange:function(e){Je(e)},value:_e,children:[Object(c.jsx)(u.Dropdown.Item,{value:"NW",children:"NW"}),Object(c.jsx)(u.Dropdown.Item,{value:"N",children:"N"}),Object(c.jsx)(u.Dropdown.Item,{value:"NE",children:"NE"}),Object(c.jsx)(u.Dropdown.Item,{value:"E",children:"E"}),Object(c.jsx)(u.Dropdown.Item,{value:"SE",children:"SE"}),Object(c.jsx)(u.Dropdown.Item,{value:"S",children:"S"}),Object(c.jsx)(u.Dropdown.Item,{value:"SW",children:"SW"}),Object(c.jsx)(u.Dropdown.Item,{value:"W",children:"W"})]})]})})})]})}),Object(c.jsx)(u.Box,{children:Object(c.jsxs)(u.Columns,{children:[Object(c.jsx)(u.Columns.Column,{size:"one-third",children:Object(c.jsxs)(ne,{children:[Object(c.jsx)(re,{children:"Approach"}),Object(c.jsx)(ce,{children:Object(c.jsx)(se,{placeholder:"Parking, hike in...",value:Ve,onChange:function(e){return Ze(e.target.value)}})})]})}),Object(c.jsx)(u.Columns.Column,{size:"one-third",children:Object(c.jsxs)(ne,{children:[Object(c.jsx)(re,{children:"Descent"}),Object(c.jsx)(ce,{children:Object(c.jsx)(se,{placeholder:"Walk-off, rappel...",value:Ke,onChange:function(e){return $e(e.target.value)}})})]})}),Object(c.jsx)(u.Columns.Column,{size:"one-third",children:Object(c.jsxs)(ne,{children:[Object(c.jsx)(re,{children:"Route Conditions"}),Object(c.jsx)(ce,{children:Object(c.jsx)(se,{placeholder:"Loose rock, early season conditions, wet...",value:tt,onChange:function(e){return nt(e.target.value)}})})]})})]})})]}),Ft,Object(c.jsx)(u.Level,{children:Object(c.jsxs)(u.Level.Side,{align:"right",children:[Object(c.jsx)(u.Level.Item,{children:Object(c.jsx)(ne,{children:Object(c.jsx)(u.Button,{color:"primary",onClick:function(){return Nt()},children:"Submit"})})}),Object(c.jsx)(u.Level.Item,{children:Object(c.jsx)(ne,{children:Object(c.jsx)(a.b,{to:"/tom-novak/home",children:Object(c.jsx)(u.Button,{color:"danger",children:"Discard"})})})})]})})]}),Object(c.jsx)(u.Columns.Column,{})]})})})),je=u.Form.Input,oe=u.Form.Field,de=u.Form.Control,he=u.Form.Label,be=u.Form.Textarea,ue=u.Form.InputFile,Oe=function(e,t,n){return n.indexOf(e)===t},xe=Object(j.f)((function(e){var t=e.match.params.user,n=e.match.params.reportID,s=Object(r.useState)([]),i=Object(o.a)(s,2),l=i[0],j=i[1],d=Object(r.useState)([]),O=Object(o.a)(d,2),x=O[0],m=O[1],p=Object(r.useState)(""),v=Object(o.a)(p,2),g=v[0],f=v[1],I=Object(r.useState)(""),C=Object(o.a)(I,2),w=C[0],L=C[1],S=Object(r.useState)([]),y=Object(o.a)(S,2),T=y[0],A=y[1],H=Object(r.useState)(""),E=Object(o.a)(H,2),R=E[0],P=E[1],W=Object(r.useState)(""),_=Object(o.a)(W,2),J=_[0],Y=_[1],U=Object(r.useState)(""),V=Object(o.a)(U,2),Z=V[0],q=V[1],X=Object(r.useState)(""),K=Object(o.a)(X,2),$=K[0],Q=K[1],ee=Object(r.useState)(""),te=Object(o.a)(ee,2),ne=te[0],ce=te[1],re=Object(r.useState)("m"),se=Object(o.a)(re,2),ie=se[0],le=se[1],ae=Object(r.useState)(new Date),xe=Object(o.a)(ae,2),me=xe[0],pe=xe[1],ve=Object(r.useState)(""),ge=Object(o.a)(ve,2),fe=ge[0],Ie=ge[1],Ce=Object(r.useState)(""),we=Object(o.a)(Ce,2),Le=we[0],Se=we[1],ye=Object(r.useState)("Traditional"),ke=Object(o.a)(ye,2),De=ke[0],Be=ke[1],Ne=Object(r.useState)(""),Me=Object(o.a)(Ne,2),Te=Me[0],ze=Me[1],Ae=Object(r.useState)(""),Ge=Object(o.a)(Ae,2),Fe=Ge[0],He=Ge[1],Ee=Object(r.useState)(""),Re=Object(o.a)(Ee,2),Pe=Re[0],We=Re[1],_e=Object(r.useState)(""),Je=Object(o.a)(_e,2),Ye=Je[0],Ue=Je[1],Ve=Object(r.useState)(""),Ze=Object(o.a)(Ve,2),qe=Ze[0],Xe=Ze[1],Ke=Object(r.useState)(" "),$e=Object(o.a)(Ke,2),Qe=$e[0],et=$e[1],tt=Object(r.useState)(new z.a("5.10a","yds")),nt=Object(o.a)(tt,2),ct=nt[0],rt=nt[1],st=Object(r.useState)(0),it=Object(o.a)(st,2),lt=it[0],at=it[1],jt=Object(r.useState)("Manual"),ot=Object(o.a)(jt,2),dt=ot[0],ht=ot[1],bt=Object(r.useState)(!1),ut=Object(o.a)(bt,2),Ot=ut[0],xt=ut[1],mt=l.length>0?Object(c.jsx)(u.List,{children:l.map((function(e,t){return Object(c.jsxs)(u.List.Item,{children:[Object(c.jsx)(u.Image,{width:"100%",src:e},t),Object(c.jsx)(de,{children:Object(c.jsx)(be,{placeholder:"Caption",value:x[t],onChange:function(e){return It(e.target.value,t)},id:"caption-text-area"})})]},t)}))}):null,pt="Manual"===dt?Object(c.jsxs)(u.Level.Side,{align:"left",children:[Object(c.jsx)(u.Level.Item,{children:Object(c.jsx)(de,{children:Object(c.jsx)(je,{placeholder:"Latitude",value:T[0],onChange:function(e){return A([e.target.value,T[1]])}})})}),Object(c.jsx)(u.Level.Item,{children:Object(c.jsx)(de,{children:Object(c.jsx)(je,{placeholder:"Longitude",value:T[1],onChange:function(e){return A([T[0],e.target.value])}})})})]}):Object(c.jsxs)(u.Level.Side,{align:"left",children:[Object(c.jsx)(u.Level.Item,{children:Object(c.jsx)(u.Heading,{weight:"normal",size:5,children:"Latitude:"})}),Object(c.jsx)(u.Level.Item,{children:Object(c.jsx)(u.Heading,{size:5,children:T[0]})}),Object(c.jsx)(u.Level.Item,{children:Object(c.jsx)(u.Heading,{weight:"normal",size:5,children:"Longitude:"})}),Object(c.jsx)(u.Level.Item,{children:Object(c.jsx)(u.Heading,{size:5,children:T[1]})})]}),vt=Ot?Object(c.jsxs)(u.Message,{color:"info",children:[Object(c.jsxs)(u.Message.Header,{children:["Update Failure",Object(c.jsx)(u.Button,{remove:!0,onClick:function(){return xt(!1)}})]}),Object(c.jsx)(u.Message.Body,{children:"Please add a title to your trip before Updating"})]}):null,gt=T[0]&&T[1]?Object(c.jsx)(D.a,{position:T}):null,ft="Map"===dt?Object(c.jsxs)(B.a,{onClick:function(e){A([e.latlng.lat.toFixed(3),e.latlng.lng.toFixed(3)])},className:"add-report-map",center:[T[0],T[1]],zoom:12,children:[Object(c.jsx)(N.a,{url:"https://api.mapbox.com/styles/v1/{id}/tiles/{z}/{x}/{y}?access_token={accessToken}",attribution:'Map data \xa9 <a href="https://www.openstreetmap.org/">OpenStreetMap</a> contributors, <a href="https://creativecommons.org/licenses/by-sa/2.0/">CC-BY-SA</a>, Imagery (c) <a href="https://www.mapbox.com/">Mapbox</a>',maxZoom:18,id:"mapbox/outdoors-v11",accessToken:"pk.eyJ1IjoidG9tbm92YWsxMyIsImEiOiJja2VseGtxeGwyYmU0MnJtejdiZmIydHd2In0.Wx7ng-I076vOfOb2qNnTkA"}),gt]}):null,It=function(e,t){var n=Object(k.a)(x);n[t]=e,m(n)};Object(r.useEffect)((function(){(function(){var e=Object(b.a)(h.a.mark((function e(){var c,r;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("/".concat(t,"/trip-reports/").concat(n));case 2:return c=e.sent,e.next=5,c.json();case 5:r=e.sent,j((s=r).images),m(s.captions),f(s.title),L(s.desc),A(s.coord),P(s.loc),Y(s.route),q(s.pitches),Q(s.gear),ce(s.elev),pe(s.date),Ie(s.totalTime),Se(s.totalLength),Be(s.disc),ze(s.anchors),He(s.aspect),We(s.approach),Ue(s.descent),Xe(s.conditions),et(s.sev),rt(new z.a(s.grade,s.gradeSystem)),at(s.upvotes);case 7:case"end":return e.stop()}var s}),e)})));return function(){return e.apply(this,arguments)}})()()}),[t,n]);var Ct=function(){var c=Object(b.a)(h.a.mark((function c(){return h.a.wrap((function(c){for(;;)switch(c.prev=c.next){case 0:if(0!==g.length){c.next=4;break}xt(!0),c.next=7;break;case 4:return c.next=6,fetch("/api/".concat(t,"/trip-reports/").concat(n,"/update"),{method:"post",body:JSON.stringify({report:{title:F(g),id:F(M(g)),date:F(me),desc:w,totalTime:F(fe),images:F(l),captions:F(x,""),route:F(J),loc:F(R),coord:[F(T[0],""),F(T[1],"")],pitches:F(Z),totalLength:F(Le),disc:F(De),grade:ct._inputGrade,gradeSystem:ct._inputSystemName,sev:F(Qe,""),gear:$,anchors:Te,elev:F(ne),aspect:F(Fe),approach:Pe,descent:Ye,conditions:qe,upvotes:lt}}),headers:{"Content-Type":"application/json"}});case 6:e.history.push("/tom-novak/trip-reports/".concat(n));case 7:case"end":return c.stop()}}),c)})));return function(){return c.apply(this,arguments)}}();return Object(c.jsx)(u.Box,{children:Object(c.jsxs)(u.Columns,{className:"has-text-left",children:[Object(c.jsx)(u.Columns.Column,{size:"one-third",children:Object(c.jsxs)(oe,{children:[Object(c.jsx)(he,{children:"Photos"}),mt,Object(c.jsx)(u.Level,{children:Object(c.jsx)(u.Level.Item,{children:Object(c.jsx)(de,{children:Object(c.jsx)(ue,{icon:Object(c.jsx)(u.Icon,{icon:"upload"}),boxed:!0,onChange:function(e){j(l.concat(["http://localhost:3000/images/".concat(e.target.files[0].name)])),m(x.concat(""))}})})})})]})}),Object(c.jsxs)(u.Columns.Column,{size:"two-thirds",children:[Object(c.jsx)(u.Heading,{subtitle:!0,size:2,children:Object(c.jsx)("strong",{children:"Descriptive Report"})}),Object(c.jsxs)(u.Box,{children:[Object(c.jsxs)(oe,{children:[Object(c.jsx)(he,{children:"Trip Title"}),Object(c.jsx)(de,{children:Object(c.jsx)(je,{placeholder:"Mt Assiniboine",value:g,onChange:function(e){return f(e.target.value)}})})]}),Object(c.jsxs)(u.Level,{children:[Object(c.jsx)(u.Level.Side,{align:"left",children:Object(c.jsx)(u.Level.Item,{children:Object(c.jsxs)(oe,{children:[Object(c.jsx)(he,{children:"Date"}),Object(c.jsx)(G.a,{onChange:function(e){pe(e)},value:me})]})})}),Object(c.jsx)(u.Level.Side,{align:"right",children:Object(c.jsx)(u.Level.Item,{children:Object(c.jsxs)(oe,{children:[Object(c.jsx)(he,{children:"Time Taken (hrs)"}),Object(c.jsx)(de,{children:Object(c.jsx)(je,{placeholder:"8.5",value:fe,onChange:function(e){return Ie(e.target.value)}})})]})})})]}),Object(c.jsxs)(oe,{children:[Object(c.jsx)(he,{children:"Trip Description"}),Object(c.jsx)(de,{children:Object(c.jsx)(be,{placeholder:"Description",value:w,onChange:function(e){return L(e.target.value)}})})]})]}),Object(c.jsx)(u.Heading,{subtitle:!0,size:2,children:Object(c.jsx)("strong",{children:"Route Details"})}),Object(c.jsxs)(u.Box,{children:[Object(c.jsxs)(u.Columns,{children:[Object(c.jsx)(u.Columns.Column,{size:"half",children:Object(c.jsxs)(oe,{children:[Object(c.jsx)(he,{children:"Route"}),Object(c.jsx)(de,{children:Object(c.jsx)(je,{placeholder:"North Ridge",value:J,onChange:function(e){return Y(e.target.value)}})})]})}),Object(c.jsx)(u.Columns.Column,{size:"half",children:Object(c.jsxs)(oe,{children:[Object(c.jsx)(he,{children:"Location"}),Object(c.jsx)(de,{children:Object(c.jsx)(je,{placeholder:"Assiniboine Provincial Park",value:R,onChange:function(e){return P(e.target.value)}})})]})})]}),Object(c.jsx)(u.Box,{children:Object(c.jsxs)(oe,{children:[Object(c.jsx)(he,{children:"Coordinates"}),Object(c.jsxs)(u.Level,{children:[pt,Object(c.jsx)(u.Level.Side,{align:"right",children:Object(c.jsx)(u.Level.Item,{children:Object(c.jsxs)(oe,{kind:"addons",children:[Object(c.jsx)(de,{children:Object(c.jsx)(u.Button,{color:"Map"===dt?"primary":"",onClick:function(){return ht("Map")},children:"Map"})}),Object(c.jsx)(de,{children:Object(c.jsx)(u.Button,{color:"Manual"===dt?"primary":"",onClick:function(){return ht("Manual")},children:"Manual"})})]})})})]}),ft]})}),Object(c.jsx)(u.Level,{children:Object(c.jsxs)(u.Level.Side,{id:"level-shrink",align:"left",children:[Object(c.jsx)(u.Level.Item,{id:"level-shrink",children:Object(c.jsx)(u.Box,{children:Object(c.jsxs)(oe,{children:[Object(c.jsx)(he,{children:"Pitches"}),Object(c.jsx)(de,{children:Object(c.jsx)(je,{placeholder:"N/A",value:Z,onChange:function(e){return q(e.target.value)}})})]})})}),Object(c.jsx)(u.Level.Item,{id:"level-shrink",children:Object(c.jsx)(u.Box,{children:Object(c.jsxs)(oe,{children:[Object(c.jsx)(he,{children:"Total Metres"}),Object(c.jsx)(de,{children:Object(c.jsx)(je,{placeholder:"606",value:Le,onChange:function(e){return Se(e.target.value)}})})]})})}),Object(c.jsx)(u.Level.Item,{id:"level-shrink",children:Object(c.jsx)(u.Box,{children:Object(c.jsxs)(oe,{children:[Object(c.jsx)(he,{children:"Discipline"}),Object(c.jsxs)(u.Dropdown,{onChange:function(e){Be(e)},value:De,children:[Object(c.jsx)(u.Dropdown.Item,{value:"traditional",children:"Traditional"}),Object(c.jsx)(u.Dropdown.Item,{value:"sport",children:"Sport"}),Object(c.jsx)(u.Dropdown.Item,{value:"mixed",children:"Mixed"}),Object(c.jsx)(u.Dropdown.Item,{value:"ice",children:"Ice"}),Object(c.jsx)(u.Dropdown.Item,{value:"alpine",children:"Alpine"})]})]})})}),Object(c.jsx)(u.Level.Item,{id:"level-shrink",children:Object(c.jsx)(u.Box,{children:Object(c.jsxs)(oe,{children:[Object(c.jsx)(he,{children:"Grade"}),Object(c.jsxs)(u.Level,{children:[Object(c.jsx)(u.Level.Item,{children:Object(c.jsx)(u.Dropdown,{onChange:function(e){rt(new z.a(e,ct._inputSystemName))},value:ct._inputGrade,children:ct._systems[ct._inputSystemName].grades.filter(Oe).map((function(e){return Object(c.jsx)(u.Dropdown.Item,{value:e,children:e},e)}))})}),Object(c.jsx)(u.Level.Item,{children:Object(c.jsxs)(u.Dropdown,{onChange:function(e){et(e)},value:Qe,children:[Object(c.jsx)(u.Dropdown.Item,{value:"",children:"N/A"}),Object(c.jsx)(u.Dropdown.Item,{value:"PG-13",children:"PG-13"}),Object(c.jsx)(u.Dropdown.Item,{value:"R",children:"R"}),Object(c.jsx)(u.Dropdown.Item,{value:"X",children:"X"})]})}),Object(c.jsx)(u.Level.Item,{children:Object(c.jsxs)(u.Dropdown,{onChange:function(e){rt(new z.a(e.placeholderGrade,e.system))},value:ct.system,children:[Object(c.jsx)(u.Dropdown.Item,{value:{placeholderGrade:"5.10a",system:"yds"},children:"Yosemite Decimal System"}),Object(c.jsx)(u.Dropdown.Item,{value:{placeholderGrade:"6a",system:"french"},children:"French"}),Object(c.jsx)(u.Dropdown.Item,{value:{placeholderGrade:"18",system:"australian"},children:"Australian"}),Object(c.jsx)(u.Dropdown.Item,{value:{placeholderGrade:"hvs 5a",system:"british"},children:"British"}),Object(c.jsx)(u.Dropdown.Item,{value:{placeholderGrade:"19",system:"south_african"},children:"South African"}),Object(c.jsx)(u.Dropdown.Item,{value:{placeholderGrade:"VB",system:"hueco"},children:"Hueco"}),Object(c.jsx)(u.Dropdown.Item,{value:{placeholderGrade:"3+",system:"font"},children:"Fontainebleau"})]})})]})]})})})]})}),Object(c.jsx)(u.Box,{children:Object(c.jsxs)(u.Columns,{children:[Object(c.jsx)(u.Columns.Column,{size:"half",children:Object(c.jsxs)(oe,{children:[Object(c.jsx)(he,{children:"Gear"}),Object(c.jsx)(de,{children:Object(c.jsx)(be,{placeholder:"Standard Rack to 3 in.",value:$,onChange:function(e){return Q(e.target.value)}})})]})}),Object(c.jsx)(u.Columns.Column,{size:"half",children:Object(c.jsxs)(oe,{children:[Object(c.jsx)(he,{children:"Anchors"}),Object(c.jsx)(de,{children:Object(c.jsx)(be,{placeholder:"Bolted, gear, trees...",value:Te,onChange:function(e){return ze(e.target.value)}})})]})})]})}),Object(c.jsx)(u.Box,{children:Object(c.jsxs)(u.Level,{children:[Object(c.jsx)(u.Level.Side,{align:"left",children:Object(c.jsx)(u.Level.Item,{children:Object(c.jsxs)(oe,{children:[Object(c.jsx)(he,{children:"Elevation"}),Object(c.jsx)(u.Level,{children:Object(c.jsxs)(u.Level.Side,{align:"left",children:[Object(c.jsx)(u.Level.Item,{children:Object(c.jsx)(de,{children:Object(c.jsx)(je,{placeholder:"2000",value:ne,onChange:function(e){return ce(e.target.value)}})})}),Object(c.jsx)(u.Level.Item,{children:Object(c.jsxs)(oe,{kind:"addons",children:[Object(c.jsx)(de,{children:Object(c.jsx)(u.Button,{color:"m"===ie?"primary":"",onClick:function(){return le("m")},children:"Metres"})}),Object(c.jsx)(de,{children:Object(c.jsx)(u.Button,{color:"ft"===ie?"primary":"",onClick:function(){return le("ft")},children:"Feet"})})]})})]})})]})})}),Object(c.jsx)(u.Level.Side,{align:"right",children:Object(c.jsx)(u.Level.Item,{children:Object(c.jsxs)(oe,{children:[Object(c.jsx)(he,{children:"Aspect"}),Object(c.jsxs)(u.Dropdown,{onChange:function(e){He(e)},value:Fe,children:[Object(c.jsx)(u.Dropdown.Item,{value:"NW",children:"NW"}),Object(c.jsx)(u.Dropdown.Item,{value:"N",children:"N"}),Object(c.jsx)(u.Dropdown.Item,{value:"NE",children:"NE"}),Object(c.jsx)(u.Dropdown.Item,{value:"E",children:"E"}),Object(c.jsx)(u.Dropdown.Item,{value:"SE",children:"SE"}),Object(c.jsx)(u.Dropdown.Item,{value:"S",children:"S"}),Object(c.jsx)(u.Dropdown.Item,{value:"SW",children:"SW"}),Object(c.jsx)(u.Dropdown.Item,{value:"W",children:"W"})]})]})})})]})}),Object(c.jsx)(u.Box,{children:Object(c.jsxs)(u.Columns,{children:[Object(c.jsx)(u.Columns.Column,{size:"one-third",children:Object(c.jsxs)(oe,{children:[Object(c.jsx)(he,{children:"Approach"}),Object(c.jsx)(de,{children:Object(c.jsx)(be,{placeholder:"Parking, hike in...",value:Pe,onChange:function(e){return We(e.target.value)}})})]})}),Object(c.jsx)(u.Columns.Column,{size:"one-third",children:Object(c.jsxs)(oe,{children:[Object(c.jsx)(he,{children:"Descent"}),Object(c.jsx)(de,{children:Object(c.jsx)(be,{placeholder:"Walk-off, rappel...",value:Ye,onChange:function(e){return Ue(e.target.value)}})})]})}),Object(c.jsx)(u.Columns.Column,{size:"one-third",children:Object(c.jsxs)(oe,{children:[Object(c.jsx)(he,{children:"Route Conditions"}),Object(c.jsx)(de,{children:Object(c.jsx)(be,{placeholder:"Loose rock, early season conditions, wet...",value:qe,onChange:function(e){return Xe(e.target.value)}})})]})})]})})]}),vt,Object(c.jsx)(u.Level,{children:Object(c.jsxs)(u.Level.Side,{align:"right",children:[Object(c.jsx)(u.Level.Item,{children:Object(c.jsx)(oe,{children:Object(c.jsx)(u.Button,{color:"primary",onClick:function(){return Ct()},children:"Update"})})}),Object(c.jsx)(u.Level.Item,{children:Object(c.jsx)(oe,{children:Object(c.jsx)(a.b,{to:"/tom-novak/home",children:Object(c.jsx)(u.Button,{color:"danger",children:"Discard"})})})})]})})]})]})})})),me=u.Form.Input,pe=u.Form.Field,ve=u.Form.Control,ge=u.Form.Label,fe=u.Form.Textarea,Ie=u.Form.InputFile,Ce=function(e,t,n){return n.indexOf(e)===t},we=Object(j.f)((function(e){var t=e.match.params.user,n=e.match.params.reportID,s=Object(r.useState)(""),i=Object(o.a)(s,2),l=i[0],j=i[1],d=Object(r.useState)(""),O=Object(o.a)(d,2),x=O[0],m=O[1],p=Object(r.useState)(""),v=Object(o.a)(p,2),g=v[0],f=v[1],I=Object(r.useState)(null),C=Object(o.a)(I,2),w=C[0],y=C[1],T=Object(r.useState)([]),A=Object(o.a)(T,2),H=A[0],E=A[1],R=Object(r.useState)(""),P=Object(o.a)(R,2),W=P[0],_=P[1],J=Object(r.useState)(""),Y=Object(o.a)(J,2),U=Y[0],V=Y[1],q=Object(r.useState)(""),X=Object(o.a)(q,2),K=X[0],$=X[1],Q=Object(r.useState)(""),te=Object(o.a)(Q,2),ne=te[0],ce=te[1],re=Object(r.useState)(""),se=Object(o.a)(re,2),ie=se[0],le=se[1],ae=Object(r.useState)("m"),je=Object(o.a)(ae,2),oe=je[0],de=je[1],he=Object(r.useState)(new Date),be=Object(o.a)(he,2),ue=be[0],Oe=be[1],xe=Object(r.useState)(""),we=Object(o.a)(xe,2),Le=we[0],Se=we[1],ye=Object(r.useState)(""),ke=Object(o.a)(ye,2),De=ke[0],Be=ke[1],Ne=Object(r.useState)("Traditional"),Me=Object(o.a)(Ne,2),Te=Me[0],ze=Me[1],Ae=Object(r.useState)(""),Ge=Object(o.a)(Ae,2),Fe=Ge[0],He=Ge[1],Ee=Object(r.useState)(""),Re=Object(o.a)(Ee,2),Pe=Re[0],We=Re[1],_e=Object(r.useState)(""),Je=Object(o.a)(_e,2),Ye=Je[0],Ue=Je[1],Ve=Object(r.useState)(""),Ze=Object(o.a)(Ve,2),qe=Ze[0],Xe=Ze[1],Ke=Object(r.useState)(""),$e=Object(o.a)(Ke,2),Qe=$e[0],et=$e[1],tt=Object(r.useState)(" "),nt=Object(o.a)(tt,2),ct=nt[0],rt=nt[1],st=Object(r.useState)(new z.a("5.10a","yds")),it=Object(o.a)(st,2),lt=it[0],at=it[1],jt=Object(r.useState)("Manual"),ot=Object(o.a)(jt,2),dt=ot[0],ht=ot[1],bt=Object(r.useState)(!1),ut=Object(o.a)(bt,2),Ot=ut[0],xt=ut[1],mt=Object(r.useState)(0),pt=Object(o.a)(mt,2),vt=pt[0],gt=pt[1],ft=Object(r.useState)([]),It=Object(o.a)(ft,2),Ct=It[0],wt=It[1],Lt=Object(r.useState)(!0),St=Object(o.a)(Lt,2),yt=St[0],kt=St[1];Object(r.useEffect)((function(){var e=function(e){j(e.title),m(e.author),f(e.desc),y(e.coverImg),E(e.coord),_(e.loc),V(e.route),$(e.pitches),ce(e.gear),le(e.elev),Oe(e.date),Se(e.totalTime),ze(e.disc),He(e.anchors),We(e.aspect),Ue(e.approach),Xe(e.descent),et(e.conditions),rt(e.sev),at(new z.a(e.grade,e.gradeSystem)),gt(e.upvotes);var t=[];e.pitchArray.map((function(n,c){return t[c]=n?new Z(n.number,new z.a(n.grade._inputGrade,e.gradeSystem),n.length,n.images,n.captions):null,0})),wt(t)};(function(){var c=Object(b.a)(h.a.mark((function c(){var r,s;return h.a.wrap((function(c){for(;;)switch(c.prev=c.next){case 0:return c.next=2,fetch("/".concat(t,"/picture-trip-reports/").concat(n));case 2:return r=c.sent,c.next=5,r.json();case 5:s=c.sent,e(s);case 7:case"end":return c.stop()}}),c)})));return function(){return c.apply(this,arguments)}})()()}),[t,n]);var Dt=function(e,t){var n=Object(k.a)(Ct);n[t]=e,wt(n)},Bt=function(e){var t=Object(k.a)(Ct);t[e]=null,wt(t)},Nt=function(){var c=Object(b.a)(h.a.mark((function c(){return h.a.wrap((function(c){for(;;)switch(c.prev=c.next){case 0:if(0!==l.length){c.next=4;break}xt(!0),c.next=7;break;case 4:return c.next=6,fetch("/api/".concat(t,"/picture-trip-reports/").concat(n,"/update"),{method:"post",body:JSON.stringify({report:{title:F(l),author:F(x),id:F(M(l)),date:F(ue),desc:g,coverImg:w,totalTime:F(Le),pitchArray:Ct,route:F(U),loc:F(W),coord:[F(H[0]),F(H[1])],pitches:F(K),totalLength:F(De),disc:F(Te),grade:lt._inputGrade,gradeSystem:lt._inputSystemName,sev:F(ct,""),gear:ne,anchors:Fe,elev:F(ie),aspect:F(Pe),approach:Ye,descent:qe,conditions:Qe,upvotes:vt}}),headers:{"Content-Type":"application/json"}});case 6:e.history.push("/tom-novak/photo-report/".concat(n));case 7:case"end":return c.stop()}}),c)})));return function(){return c.apply(this,arguments)}}();w&&yt&&(L(w).then((function(e){return y(e)})),kt(!1));var Mt=w&&w.startsWith("blob")?Object(c.jsx)(u.Image,{width:"100%",src:w}):null,Tt=Ct.length>0?Object(c.jsx)(u.List,{children:Ct.map((function(e,t){return e?Object(c.jsx)(u.List.Item,{children:Object(c.jsx)(ee,{pitch:e,index:t,setParent:Dt,deletePitch:Bt,gradeSystem:lt._inputSystemName})},t):null}))}):null,zt="Manual"===dt?Object(c.jsxs)(u.Level.Side,{align:"left",children:[Object(c.jsx)(u.Level.Item,{children:Object(c.jsx)(ve,{children:Object(c.jsx)(me,{placeholder:"Latitude",value:H[0],onChange:function(e){return E([e.target.value,H[1]])}})})}),Object(c.jsx)(u.Level.Item,{children:Object(c.jsx)(ve,{children:Object(c.jsx)(me,{placeholder:"Longitude",value:H[1],onChange:function(e){return E([H[0],e.target.value])}})})})]}):Object(c.jsxs)(u.Level.Side,{align:"left",children:[Object(c.jsx)(u.Level.Item,{children:Object(c.jsx)(u.Heading,{weight:"normal",size:5,children:"Latitude:"})}),Object(c.jsx)(u.Level.Item,{children:Object(c.jsx)(u.Heading,{size:5,children:H[0]})}),Object(c.jsx)(u.Level.Item,{children:Object(c.jsx)(u.Heading,{weight:"normal",size:5,children:"Longitude:"})}),Object(c.jsx)(u.Level.Item,{children:Object(c.jsx)(u.Heading,{size:5,children:H[1]})})]}),At=Ot?Object(c.jsxs)(u.Message,{color:"info",children:[Object(c.jsxs)(u.Message.Header,{children:["Submit Failure",Object(c.jsx)(u.Button,{remove:!0,onClick:function(){return xt(!1)}})]}),Object(c.jsx)(u.Message.Body,{children:"Please add a title to your trip before submitting"})]}):null,Gt=H[0]&&H[1]?Object(c.jsx)(D.a,{position:H}):null,Ft="Map"===dt?Object(c.jsxs)(B.a,{onClick:function(e){E([e.latlng.lat.toFixed(3),e.latlng.lng.toFixed(3)])},className:"add-report-map",center:[51.09,-115.34],zoom:12,children:[Object(c.jsx)(N.a,{url:"https://api.mapbox.com/styles/v1/{id}/tiles/{z}/{x}/{y}?access_token={accessToken}",attribution:'Map data \xa9 <a href="https://www.openstreetmap.org/">OpenStreetMap</a> contributors, <a href="https://creativecommons.org/licenses/by-sa/2.0/">CC-BY-SA</a>, Imagery (c) <a href="https://www.mapbox.com/">Mapbox</a>',maxZoom:18,id:"mapbox/outdoors-v11",accessToken:"pk.eyJ1IjoidG9tbm92YWsxMyIsImEiOiJja2VseGtxeGwyYmU0MnJtejdiZmIydHd2In0.Wx7ng-I076vOfOb2qNnTkA"}),Gt]}):null;return Object(c.jsx)(u.Box,{children:Object(c.jsxs)(u.Columns,{className:"has-text-left",children:[Object(c.jsx)(u.Columns.Column,{}),Object(c.jsxs)(u.Columns.Column,{size:"two-thirds",children:[Object(c.jsx)(u.Heading,{subtitle:!0,size:2,children:Object(c.jsx)("strong",{children:"Report Summary"})}),Object(c.jsxs)(u.Box,{children:[Object(c.jsxs)(pe,{children:[Object(c.jsx)(ge,{children:"Title"}),Object(c.jsx)(ve,{children:Object(c.jsx)(me,{placeholder:"Mt Assiniboine",value:l,onChange:function(e){return j(e.target.value)}})})]}),Object(c.jsxs)(pe,{children:[Object(c.jsx)(ge,{children:"Author"}),Object(c.jsx)(ve,{children:Object(c.jsx)(me,{placeholder:"John Smith",value:x,onChange:function(e){return m(e.target.value)}})})]}),Object(c.jsxs)(u.Level,{children:[Object(c.jsx)(u.Level.Side,{align:"left",children:Object(c.jsx)(u.Level.Item,{children:Object(c.jsxs)(pe,{children:[Object(c.jsx)(ge,{children:"Date"}),Object(c.jsx)(G.a,{onChange:function(e){Oe(e)},value:ue})]})})}),Object(c.jsx)(u.Level.Side,{align:"right",children:Object(c.jsx)(u.Level.Item,{children:Object(c.jsxs)(pe,{children:[Object(c.jsx)(ge,{children:"Time Taken (hrs)"}),Object(c.jsx)(ve,{children:Object(c.jsx)(me,{placeholder:"8.5",value:Le,onChange:function(e){return Se(e.target.value)}})})]})})})]}),Object(c.jsxs)(pe,{children:[Object(c.jsx)(ge,{children:"Summary"}),Object(c.jsx)(ve,{children:Object(c.jsx)(fe,{placeholder:"Description",value:g,onChange:function(e){return f(e.target.value)}})})]}),Object(c.jsx)(ge,{children:"Cover Photo"}),Mt,Object(c.jsx)(pe,{children:Object(c.jsx)(Ie,{icon:Object(c.jsx)(u.Icon,{icon:"upload"}),boxed:!0,onChange:function(e){y(e.target.files[0].name),S(e.target.files)}})})]}),Object(c.jsx)(u.Heading,{subtitle:!0,size:2,children:Object(c.jsx)("strong",{children:"Pitch-by-Pitch Details"})}),Object(c.jsxs)(u.Box,{children:[Tt,Object(c.jsx)(u.Button,{onClick:function(){return wt(Ct.concat(new Z(Ct.length)))},children:"Add Pitch"})]}),Object(c.jsx)(u.Heading,{subtitle:!0,size:2,children:Object(c.jsx)("strong",{children:"Route Details"})}),Object(c.jsxs)(u.Box,{children:[Object(c.jsxs)(u.Columns,{children:[Object(c.jsx)(u.Columns.Column,{size:"half",children:Object(c.jsxs)(pe,{children:[Object(c.jsx)(ge,{children:"Route"}),Object(c.jsx)(ve,{children:Object(c.jsx)(me,{placeholder:"North Ridge",value:U,onChange:function(e){return V(e.target.value)}})})]})}),Object(c.jsx)(u.Columns.Column,{size:"half",children:Object(c.jsxs)(pe,{children:[Object(c.jsx)(ge,{children:"Location"}),Object(c.jsx)(ve,{children:Object(c.jsx)(me,{placeholder:"Assiniboine Provincial Park",value:W,onChange:function(e){return _(e.target.value)}})})]})})]}),Object(c.jsx)(u.Box,{children:Object(c.jsxs)(pe,{children:[Object(c.jsx)(ge,{children:"Coordinates"}),Object(c.jsxs)(u.Level,{children:[zt,Object(c.jsx)(u.Level.Side,{align:"right",children:Object(c.jsx)(u.Level.Item,{children:Object(c.jsxs)(pe,{kind:"addons",children:[Object(c.jsx)(ve,{children:Object(c.jsx)(u.Button,{color:"Map"===dt?"primary":"",onClick:function(){return ht("Map")},children:"Map"})}),Object(c.jsx)(ve,{children:Object(c.jsx)(u.Button,{color:"Manual"===dt?"primary":"",onClick:function(){return ht("Manual")},children:"Manual"})})]})})})]}),Ft]})}),Object(c.jsx)(u.Level,{children:Object(c.jsxs)(u.Level.Side,{id:"level-shrink",align:"left",children:[Object(c.jsx)(u.Level.Item,{id:"level-shrink",children:Object(c.jsx)(u.Box,{children:Object(c.jsxs)(pe,{children:[Object(c.jsx)(ge,{children:"Pitches"}),Object(c.jsx)(ve,{children:Object(c.jsx)(me,{placeholder:"N/A",value:K,onChange:function(e){return $(e.target.value)}})})]})})}),Object(c.jsx)(u.Level.Item,{id:"level-shrink",children:Object(c.jsx)(u.Box,{children:Object(c.jsxs)(pe,{children:[Object(c.jsx)(ge,{children:"Total Metres"}),Object(c.jsx)(ve,{children:Object(c.jsx)(me,{placeholder:"606",value:De,onChange:function(e){return Be(e.target.value)}})})]})})}),Object(c.jsx)(u.Level.Item,{id:"level-shrink",children:Object(c.jsx)(u.Box,{children:Object(c.jsxs)(pe,{children:[Object(c.jsx)(ge,{children:"Discipline"}),Object(c.jsxs)(u.Dropdown,{onChange:function(e){ze(e)},value:Te,children:[Object(c.jsx)(u.Dropdown.Item,{value:"traditional",children:"Traditional"}),Object(c.jsx)(u.Dropdown.Item,{value:"sport",children:"Sport"}),Object(c.jsx)(u.Dropdown.Item,{value:"mixed",children:"Mixed"}),Object(c.jsx)(u.Dropdown.Item,{value:"ice",children:"Ice"}),Object(c.jsx)(u.Dropdown.Item,{value:"alpine",children:"Alpine"})]})]})})}),Object(c.jsx)(u.Level.Item,{id:"level-shrink",children:Object(c.jsx)(u.Box,{children:Object(c.jsxs)(pe,{children:[Object(c.jsx)(ge,{children:"Grade"}),Object(c.jsxs)(u.Level,{children:[Object(c.jsx)(u.Level.Item,{children:Object(c.jsx)(u.Dropdown,{onChange:function(e){at(new z.a(e,lt._inputSystemName))},value:lt._inputGrade,children:lt._systems[lt._inputSystemName].grades.filter(Ce).map((function(e){return Object(c.jsx)(u.Dropdown.Item,{value:e,children:e},e)}))})}),Object(c.jsx)(u.Level.Item,{children:Object(c.jsxs)(u.Dropdown,{onChange:function(e){rt(e)},value:ct,children:[Object(c.jsx)(u.Dropdown.Item,{value:"",children:"N/A"}),Object(c.jsx)(u.Dropdown.Item,{value:"PG-13",children:"PG-13"}),Object(c.jsx)(u.Dropdown.Item,{value:"R",children:"R"}),Object(c.jsx)(u.Dropdown.Item,{value:"X",children:"X"})]})}),Object(c.jsx)(u.Level.Item,{children:Object(c.jsxs)(u.Dropdown,{onChange:function(e){at(new z.a(e.placeholderGrade,e.system))},value:lt.system,children:[Object(c.jsx)(u.Dropdown.Item,{value:{placeholderGrade:"5.10a",system:"yds"},children:"Yosemite Decimal System"}),Object(c.jsx)(u.Dropdown.Item,{value:{placeholderGrade:"6a",system:"french"},children:"French"}),Object(c.jsx)(u.Dropdown.Item,{value:{placeholderGrade:"18",system:"australian"},children:"Australian"}),Object(c.jsx)(u.Dropdown.Item,{value:{placeholderGrade:"hvs 5a",system:"british"},children:"British"}),Object(c.jsx)(u.Dropdown.Item,{value:{placeholderGrade:"19",system:"south_african"},children:"South African"}),Object(c.jsx)(u.Dropdown.Item,{value:{placeholderGrade:"VB",system:"hueco"},children:"Hueco"}),Object(c.jsx)(u.Dropdown.Item,{value:{placeholderGrade:"3+",system:"font"},children:"Fontainebleau"})]})})]})]})})})]})}),Object(c.jsx)(u.Box,{children:Object(c.jsxs)(u.Columns,{children:[Object(c.jsx)(u.Columns.Column,{size:"half",children:Object(c.jsxs)(pe,{children:[Object(c.jsx)(ge,{children:"Gear"}),Object(c.jsx)(ve,{children:Object(c.jsx)(fe,{placeholder:"Standard Rack to 3 in.",value:ne,onChange:function(e){return ce(e.target.value)}})})]})}),Object(c.jsx)(u.Columns.Column,{size:"half",children:Object(c.jsxs)(pe,{children:[Object(c.jsx)(ge,{children:"Anchors"}),Object(c.jsx)(ve,{children:Object(c.jsx)(fe,{placeholder:"Bolted, gear, trees...",value:Fe,onChange:function(e){return He(e.target.value)}})})]})})]})}),Object(c.jsx)(u.Box,{children:Object(c.jsxs)(u.Level,{children:[Object(c.jsx)(u.Level.Side,{align:"left",children:Object(c.jsx)(u.Level.Item,{children:Object(c.jsxs)(pe,{children:[Object(c.jsx)(ge,{children:"Elevation"}),Object(c.jsx)(u.Level,{children:Object(c.jsxs)(u.Level.Side,{align:"left",children:[Object(c.jsx)(u.Level.Item,{children:Object(c.jsx)(ve,{children:Object(c.jsx)(me,{placeholder:"2000",value:ie,onChange:function(e){return le(e.target.value)}})})}),Object(c.jsx)(u.Level.Item,{children:Object(c.jsxs)(pe,{kind:"addons",children:[Object(c.jsx)(ve,{children:Object(c.jsx)(u.Button,{color:"m"===oe?"primary":"",onClick:function(){return de("m")},children:"Metres"})}),Object(c.jsx)(ve,{children:Object(c.jsx)(u.Button,{color:"ft"===oe?"primary":"",onClick:function(){return de("ft")},children:"Feet"})})]})})]})})]})})}),Object(c.jsx)(u.Level.Side,{align:"right",children:Object(c.jsx)(u.Level.Item,{children:Object(c.jsxs)(pe,{children:[Object(c.jsx)(ge,{children:"Aspect"}),Object(c.jsxs)(u.Dropdown,{onChange:function(e){We(e)},value:Pe,children:[Object(c.jsx)(u.Dropdown.Item,{value:"NW",children:"NW"}),Object(c.jsx)(u.Dropdown.Item,{value:"N",children:"N"}),Object(c.jsx)(u.Dropdown.Item,{value:"NE",children:"NE"}),Object(c.jsx)(u.Dropdown.Item,{value:"E",children:"E"}),Object(c.jsx)(u.Dropdown.Item,{value:"SE",children:"SE"}),Object(c.jsx)(u.Dropdown.Item,{value:"S",children:"S"}),Object(c.jsx)(u.Dropdown.Item,{value:"SW",children:"SW"}),Object(c.jsx)(u.Dropdown.Item,{value:"W",children:"W"})]})]})})})]})}),Object(c.jsx)(u.Box,{children:Object(c.jsxs)(u.Columns,{children:[Object(c.jsx)(u.Columns.Column,{size:"one-third",children:Object(c.jsxs)(pe,{children:[Object(c.jsx)(ge,{children:"Approach"}),Object(c.jsx)(ve,{children:Object(c.jsx)(fe,{placeholder:"Parking, hike in...",value:Ye,onChange:function(e){return Ue(e.target.value)}})})]})}),Object(c.jsx)(u.Columns.Column,{size:"one-third",children:Object(c.jsxs)(pe,{children:[Object(c.jsx)(ge,{children:"Descent"}),Object(c.jsx)(ve,{children:Object(c.jsx)(fe,{placeholder:"Walk-off, rappel...",value:qe,onChange:function(e){return Xe(e.target.value)}})})]})}),Object(c.jsx)(u.Columns.Column,{size:"one-third",children:Object(c.jsxs)(pe,{children:[Object(c.jsx)(ge,{children:"Route Conditions"}),Object(c.jsx)(ve,{children:Object(c.jsx)(fe,{placeholder:"Loose rock, early season conditions, wet...",value:Qe,onChange:function(e){return et(e.target.value)}})})]})})]})})]}),At,Object(c.jsx)(u.Level,{children:Object(c.jsxs)(u.Level.Side,{align:"right",children:[Object(c.jsx)(u.Level.Item,{children:Object(c.jsx)(pe,{children:Object(c.jsx)(u.Button,{color:"primary",onClick:function(){return Nt()},children:"Update"})})}),Object(c.jsx)(u.Level.Item,{children:Object(c.jsx)(pe,{children:Object(c.jsx)(a.b,{to:"/tom-novak/home",children:Object(c.jsx)(u.Button,{color:"danger",children:"Discard"})})})})]})})]}),Object(c.jsx)(u.Columns.Column,{})]})})})),Le=(n(163),function(e){e.user;var t=Object(r.useState)(null),n=Object(o.a)(t,2),s=n[0],i=n[1],l=Object(r.useState)(!0),a=Object(o.a)(l,2),j=a[0],d=a[1];return j&&(L("mount-assiniboine.jpg").then((function(e){return i(e)})),d(!1)),Object(c.jsx)(c.Fragment,{children:Object(c.jsx)(u.Box,{children:Object(c.jsxs)(u.Card,{children:[w(s),Object(c.jsx)(u.Card.Content,{children:Object(c.jsx)(u.Media,{children:Object(c.jsx)(u.Media.Item,{children:Object(c.jsxs)(u.Content,{children:[Object(c.jsx)("strong",{children:"About"}),Object(c.jsx)("br",{}),Object(c.jsx)("p",{className:"is-size-6",children:"Hi! Thanks for checking out my project! This is a web application I made using the ReactJS framework, to display rock climbing trip reports. It's still a work in progress, but as of right now anyone can add, view and edit trip reports. Some features I found exciting were the dynamic resizing of images on click when viewing a report, the progress bar that adjusts as you move along the route, and the way that different logs reorganize themselves on the feed pages when different filters are used. Feel free to click around and send along any feedback you have!"}),Object(c.jsx)("br",{}),Object(c.jsx)("small",{children:"novakthomasa@gmail.com"})]})})})})]})})})}),Se=n(202),ye=n(205),ke=n(20),De=n.n(ke),Be=function(e){return Object(c.jsxs)(u.Level,{id:e.id,children:[Object(c.jsx)(u.Level.Side,{align:"left",children:Object(c.jsx)(u.Level.Item,{children:Object(c.jsx)(u.Heading,{heading:!0,className:"has-text-weight-bold",children:e.name})})}),Object(c.jsx)(u.Level.Side,{align:"right",children:Object(c.jsx)(u.Level.Item,{children:Object(c.jsx)(u.Heading,{heading:!0,children:e.content})})})]})},Ne=function(e){var t=e.user,n=Object(r.useState)(null),s=Object(o.a)(n,2),i=s[0],l=s[1],j=i?i.pitchReports:[],d=Object(r.useState)(!0),O=Object(o.a)(d,2),x=O[0],m=O[1],p=Object(r.createRef)(),v=Object(r.createRef)(),g=De.a.latLng(-90,-200),f=De.a.latLng(90,200),I=De.a.latLngBounds(g,f),C=Object(r.useState)(null),w=Object(o.a)(C,2),L=w[0],S=w[1];return Object(r.useEffect)((function(){(function(){var e=Object(b.a)(h.a.mark((function e(){var n,c;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("/".concat(t,"/picture-trip-reports"));case 2:return n=e.sent,e.next=5,n.json();case 5:c=e.sent,l(c);case 7:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}})()()}),[t]),Object(r.useEffect)((function(){var e={lat:0,lng:0},t={lat:0,lng:0};if(p.current&&v.current){var n=p.current.leafletElement,c=v.current.leafletElement;c.getBounds()._northEast&&!c.getBounds()._northEast.equals(e)&&c.getBounds()._southWest&&!c.getBounds()._southWest.equals(t)&&x&&(n.fitBounds(c.getBounds()),m(!1))}}),[p,v,x]),Object(c.jsxs)(B.a,{ref:p,center:[51.09,-115.34],zoom:10,minZoom:2,maxBounds:I,maxBoundsViscosity:1,children:[Object(c.jsx)(N.a,{url:"https://api.mapbox.com/styles/v1/{id}/tiles/{z}/{x}/{y}?access_token={accessToken}",attribution:'Map data \xa9 <a href="https://www.openstreetmap.org/">OpenStreetMap</a> contributors, <a href="https://creativecommons.org/licenses/by-sa/2.0/">CC-BY-SA</a>, Imagery (c) <a href="https://www.mapbox.com/">Mapbox</a>',maxZoom:18,id:"mapbox/outdoors-v11",accessToken:"pk.eyJ1IjoidG9tbm92YWsxMyIsImEiOiJja2VseGtxeGwyYmU0MnJtejdiZmIydHd2In0.Wx7ng-I076vOfOb2qNnTkA"}),Object(c.jsx)(Se.a,{ref:v,children:j.map((function(e){return"\u2014"!==e.coord[0]&&"\u2014"!==e.coord[1]&&Object(c.jsx)(D.a,{position:[e.coord[0],e.coord[1]],onClick:function(){return S(e)}},e.title)}))}),L&&Object(c.jsx)(ye.a,{position:[L.coord[0],L.coord[1]],onClose:function(){return S(null)},children:Object(c.jsxs)("div",{id:"homepage-popup",children:[Object(c.jsx)(a.b,{to:"/".concat(t,"/photo-report/").concat(L.id),children:Object(c.jsx)(u.Heading,{heading:!0,className:"has-text-weight-bold",children:L.title})}),Object(c.jsx)(Be,{id:"homepage-popup",name:"Author",content:L.author}),Object(c.jsx)(Be,{id:"homepage-popup",name:"Location",content:L.loc}),Object(c.jsx)(Be,{id:"homepage-popup",name:"Route",content:L.route}),Object(c.jsx)(Be,{id:"homepage-popup",name:"Pitches",content:L.pitches}),Object(c.jsx)(Be,{id:"homepage-popup",name:"Summit Elevation (m)",content:L.elev})]})})]})},Me=(n(164),function(e){var t=e.match.params.user;return Object(c.jsx)(c.Fragment,{children:Object(c.jsxs)(u.Columns,{children:[Object(c.jsx)(u.Columns.Column,{size:"one-third",children:Object(c.jsx)(Le,{user:t})}),Object(c.jsx)(u.Columns.Column,{children:Object(c.jsx)(u.Box,{children:Object(c.jsx)(Ne,{user:t})})})]})})}),Te=function(e){return Object(c.jsxs)("div",{children:[Object(c.jsx)(u.Heading,{heading:!0,className:"has-text-weight-bold",children:e.name}),Object(c.jsx)(u.Heading,{heading:!0,children:e.content})]})},ze=function(e){var t=e.name,n=e.content,r=e.alignment,s=void 0===r?"left":r;return Object(c.jsxs)("div",{align:s,children:[Object(c.jsx)(u.Heading,{heading:!0,className:"has-text-weight-bold",children:t}),Object(c.jsx)("p",{heading:"true",className:"is-size-7",children:n})]})},Ae=(n(165),function(e){var t,n=e.match.params.user,s=e.match.params.reportID,i=Object(r.useState)(null),l=Object(o.a)(i,2),a=l[0],j=l[1],d=!!a&&a.images.length>1,O=a?new z.a(a.grade,a.gradeSystem):null,x=Object(r.useState)(!1),m=Object(o.a)(x,2),p=m[0],v=m[1],g=Object(r.useState)("74vh"),f=Object(o.a)(g,2),I=f[0],C=f[1],w=Object(r.useState)("yds"),L=Object(o.a)(w,2),S=L[0],y=L[1],k=Object(r.useState)(!1),M=Object(o.a)(k,2),T=M[0],A=M[1],G=Object(r.useState)(!1),H=Object(o.a)(G,2),E=H[0],R=H[1],P=a?d?Object(c.jsx)(U.Carousel,{infiniteLoop:!0,dynamicHeight:p,centerMode:!0,centerSlidePercentage:"65",showThumbs:!1,children:a.images.map((function(e,t){return Object(c.jsxs)("div",{style:{height:I},children:[Object(c.jsx)("img",{alt:"",src:e}),Object(c.jsx)("p",{className:"legend",children:a.captions[t]})]},e)}))}):Object(c.jsxs)(u.Columns,{children:[Object(c.jsx)(u.Columns.Column,{}),Object(c.jsx)(u.Columns.Column,{size:"half",children:Object(c.jsx)(U.Carousel,{dynamicHeight:p,onClickItem:function(){return v(!0)},onChange:function(){return v(!0)},showThumbs:!1,children:a.images.map((function(e){return Object(c.jsxs)("div",{style:{height:I},children:[Object(c.jsx)("img",{alt:"",src:e},e),Object(c.jsx)("p",{className:"legend",children:"Test Legend"},e)]},e)}))})}),Object(c.jsx)(u.Columns.Column,{})]}):null,W=E?Object(c.jsx)(u.Message,{color:"danger",children:Object(c.jsxs)(u.Message.Header,{children:["Are you sure?",Object(c.jsx)(u.Button,{color:"danger",onClick:function(){Y(),e.history.push("/tom-novak/trip-reports")},children:"Delete"}),Object(c.jsx)(u.Button,{remove:!0,onClick:function(){return R(!1)}})]})}):null,_=a?Object(c.jsxs)(c.Fragment,{children:[Object(c.jsx)("div",{onMouseEnter:function(){v(!0),C("")},style:{backgroundColor:"black"},children:P}),Object(c.jsx)(u.Hero,{color:"primary",size:"small",children:Object(c.jsx)(u.Hero.Body,{children:Object(c.jsxs)(u.Container,{children:[Object(c.jsx)(u.Heading,{size:1,align:"left",children:a.title}),Object(c.jsx)(u.Heading,{subtitle:!0,children:Object(c.jsxs)(u.Level,{children:[Object(c.jsx)(u.Level.Side,{align:"left",children:Object(c.jsx)(u.Level.Item,{children:(t=n,t.split("-").map((function(e){return e.charAt(0).toUpperCase()+e.substring(1)})).join(" "))})}),Object(c.jsx)(u.Level.Side,{align:"right",children:Object(c.jsx)(u.Level.Item,{children:a.date.substring(0,a.date.search("T"))})})]})})]})})}),Object(c.jsx)("div",{children:Object(c.jsxs)(u.Columns,{className:"has-text-left",children:[Object(c.jsxs)(u.Columns.Column,{size:"one-fifth",children:[Object(c.jsx)(u.Box,{children:Object(c.jsxs)(u.Level,{children:[Object(c.jsx)(u.Level.Item,{children:Object(c.jsxs)(u.Heading,{subtitle:!0,size:4,children:["Upvotes: ",Object(c.jsx)("strong",{children:a.upvotes})]})}),Object(c.jsx)(u.Level.Item,{children:Object(c.jsx)(u.Button,{onClick:function(){return J()},color:"white",children:Object(c.jsx)(u.Image,{size:32,src:"http://localhost:3000/images/upvote-icon.png"})})})]})}),Object(c.jsxs)(u.Box,{children:[Object(c.jsxs)(u.Level,{children:[Object(c.jsx)(u.Level.Item,{children:Object(c.jsx)(u.Button,{onClick:function(){return e.history.push("/tom-novak/edit-report/".concat(s))},color:"primary",children:"Edit Report"})}),Object(c.jsx)(u.Level.Item,{children:Object(c.jsx)(u.Button,{onClick:function(){R(!0)},color:"primary",children:"Delete"})})]}),W]})]}),Object(c.jsx)(u.Columns.Column,{size:"half",children:Object(c.jsx)("p",{className:"is-size-5",id:"desc-paragraph",style:{whiteSpace:"pre-line"},children:a.desc})}),Object(c.jsx)(u.Columns.Column,{children:Object(c.jsxs)(u.Box,{children:[Object(c.jsx)(Be,{name:"Route",content:F(a.route)}),Object(c.jsx)(Be,{name:"Location",content:F(a.loc)}),Object(c.jsxs)(u.Level,{children:[Object(c.jsxs)(u.Level.Side,{align:"right",children:[Object(c.jsx)(u.Level.Item,{children:Object(c.jsx)(u.Heading,{heading:!0,className:"has-text-weight-bold",children:"Coordinates"})}),Object(c.jsx)(u.Level.Item,{children:Object(c.jsxs)(u.Heading,{heading:!0,children:[F(a.coord[0]),", ",F(a.coord[1])]})})]}),Object(c.jsx)(u.Level.Side,{align:"right",children:Object(c.jsxs)(u.Level.Item,{children:[Object(c.jsx)(u.Button,{color:"primary",onClick:function(){return A(!0)},children:"Show on map"}),Object(c.jsx)(u.Modal,{closeOnBlur:!0,showClose:!1,show:T,onClose:function(){return A(!1)},children:Object(c.jsx)(u.Modal.Content,{children:Object(c.jsx)(u.Container,{children:Object(c.jsxs)(B.a,{id:"modal-map",center:[a.coord[0],a.coord[1]],zoom:12,children:[Object(c.jsx)(N.a,{url:"https://api.mapbox.com/styles/v1/{id}/tiles/{z}/{x}/{y}?access_token={accessToken}",attribution:'Map data \xa9 <a href="https://www.openstreetmap.org/">OpenStreetMap</a> contributors, <a href="https://creativecommons.org/licenses/by-sa/2.0/">CC-BY-SA</a>, Imagery (c) <a href="https://www.mapbox.com/">Mapbox</a>',maxZoom:18,id:"mapbox/outdoors-v11",accessToken:"pk.eyJ1IjoidG9tbm92YWsxMyIsImEiOiJja2VseGtxeGwyYmU0MnJtejdiZmIydHd2In0.Wx7ng-I076vOfOb2qNnTkA"}),Object(c.jsx)(D.a,{position:[a.coord[0],a.coord[1]]})]})})})})]})})]}),Object(c.jsxs)(u.Columns,{children:[Object(c.jsx)(u.Columns.Column,{size:"half",children:Object(c.jsxs)(u.Level,{id:"centered-level-item",children:[Object(c.jsx)(u.Level.Item,{children:Object(c.jsx)(Te,{name:"Discipline",content:F(a.disc)})}),Object(c.jsx)(u.Level.Item,{children:Object(c.jsx)(Te,{name:"Grade",content:O?O.format(S)+" "+a.sev:"\u2014"})})]})}),Object(c.jsx)(u.Columns.Column,{align:"right",size:"half",children:Object(c.jsxs)(u.Dropdown,{hoverable:!0,right:!0,value:S,onChange:function(e){y(e)},children:[Object(c.jsx)(u.Dropdown.Item,{value:"yds",children:"YDS"}),Object(c.jsx)(u.Dropdown.Item,{value:"french",children:"French"}),Object(c.jsx)(u.Dropdown.Item,{value:"australian",children:"Australian"}),Object(c.jsx)(u.Dropdown.Item,{value:"british",children:"British"}),Object(c.jsx)(u.Dropdown.Item,{value:"south_african",children:"South African"}),Object(c.jsx)(u.Dropdown.Item,{value:"hueco",children:"Hueco"}),Object(c.jsx)(u.Dropdown.Item,{value:"font",children:"Fontainebleau"})]})})]}),Object(c.jsxs)(u.Level,{id:"centered-level-item",children:[Object(c.jsx)(u.Level.Item,{children:Object(c.jsx)(Te,{name:"Pitches",content:F(a.pitches)})}),Object(c.jsx)(u.Level.Item,{children:Object(c.jsx)(Te,{name:"Total Length (m)",content:F(a.totalLength)})}),Object(c.jsx)(u.Level.Item,{children:Object(c.jsx)(Te,{name:"Elevation (m)",content:F(a.elev)})}),Object(c.jsx)(u.Level.Item,{children:Object(c.jsx)(Te,{name:"Aspect",content:F(a.aspect)})})]}),Object(c.jsx)(u.Box,{children:Object(c.jsx)(ze,{name:"Gear",content:a.gear})}),Object(c.jsx)(u.Box,{children:Object(c.jsx)(ze,{name:"Approach",content:a.approach})}),Object(c.jsx)(u.Box,{children:Object(c.jsx)(ze,{name:"Descent",content:a.descent})}),Object(c.jsx)(u.Box,{children:Object(c.jsx)(ze,{name:"Conditions",content:a.conditions})})]})})]})})]}):null;Object(r.useEffect)((function(){(function(){var e=Object(b.a)(h.a.mark((function e(){var t,c;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("/".concat(n,"/trip-reports/").concat(s));case 2:return t=e.sent,e.next=5,t.json();case 5:c=e.sent,j(c);case 7:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}})()()}),[n,s]);var J=function(){var e=Object(b.a)(h.a.mark((function e(){var t,c,r;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("/api/".concat(n,"/trip-reports/").concat(s,"/upvote"),{method:"post"});case 2:return t=e.sent,e.next=5,t.json();case 5:c=e.sent,r=c.reports.find((function(e){return e.id===s})),j(r);case 8:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),Y=function(){var e=Object(b.a)(h.a.mark((function e(){return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("/api/".concat(n,"/trip-reports/").concat(s,"/delete"),{method:"post"});case 2:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(c.jsx)(c.Fragment,{children:_})});function Ge(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"date",n=null;switch(t){case"pitch":n=e.sort(He);break;case"grade":n=e.sort(Ee);break;case"elevation":n=e.sort(Re);break;case"length":n=e.sort(Pe);break;case"time":n=e.sort(We);break;default:n=e.sort(Fe)}return n}var Fe=function(e,t){var n=new Date(e.date),c=new Date(t.date);return n.getTime()===c.getTime()?0:n>c?-1:1},He=function(e,t){var n=_e(Number(e.pitches),0),c=_e(Number(t.pitches),0);return n===c?0:n>c?-1:1},Ee=function(e,t){var n=new z.a(e.grade,"yds"),c=new z.a(t.grade,"yds"),r=n._universalGrades[0],s=c._universalGrades[0];return r===s?0:r>s?-1:1},Re=function(e,t){var n=Number(e.elev),c=Number(t.elev);return n===c?0:n>c?-1:1},Pe=function(e,t){var n=_e(Number(e.totalLength),0),c=_e(Number(t.totalLength),0);return n===c?0:n>c?-1:1},We=function(e,t){var n=_e(Number(e.totalTime),Number.MAX_SAFE_INTEGER),c=_e(Number(t.totalTime),Number.MAX_SAFE_INTEGER);return n===c?0:n>c?1:-1},_e=function(e,t){return isNaN(e)?t:e},Je=function(e){var t=0;return e.forEach((function(e){isNaN(Number(e.pitches))||(t+=Number(e.pitches))})),t},Ye=function(e){var t=0;return e.forEach((function(e){isNaN(Number(e.totalTime))||(t+=Number(e.totalTime))})),t},Ue=function(e){var t=0;return e.forEach((function(e){isNaN(Number(e.totalLength))||(t+=Number(e.totalLength))})),t},Ve=function(e){var t=0;return e.forEach((function(e){isNaN(Number(e.elev))||(t+=Number(e.elev))})),t},Ze=function(e){var t={};return s.a.Children.forEach(e,(function(e){var n=e.ref.current;if(n){var c=n.getBoundingClientRect();t[e.key]=c}})),t};function qe(e){var t=Object(r.useRef)();return Object(r.useLayoutEffect)((function(){t.current=e})),t.current}var Xe=function(e){var t=e.children,n=Object(r.useState)({}),c=Object(o.a)(n,2),i=c[0],l=c[1],a=Object(r.useState)({}),j=Object(o.a)(a,2),d=j[0],h=j[1],b=qe(t),u=Object(r.useState)(0),O=Object(o.a)(u,2),x=O[0],m=O[1],p=qe(x);return Object(r.useLayoutEffect)((function(){var e=Ze(t);l(e),m(window.scrollY)}),[t]),Object(r.useLayoutEffect)((function(){var e=Ze(b);h(e)}),[b]),Object(r.useLayoutEffect)((function(){Object.keys(d).length&&s.a.Children.forEach(t,(function(e){var t=e.ref.current,n=d[e.key],c=i[e.key],r=p-x,s=n.top-c.top+r;s&&requestAnimationFrame((function(){t.style.transform="translateY(".concat(s,"px)"),t.style.transition="transform 0s",requestAnimationFrame((function(){t.style.transform="",t.style.transition="transform 500ms"}))}))}))}),[i,d,x,p,t]),t},Ke=function(e){var t=e.userInfo,n=e.sortBy,s=void 0===n?"date":n,i=t.pitchReports,l=Ge(t.pitchReports,s).map((function(e){return Object(c.jsxs)("tr",{ref:Object(r.createRef)(),children:[Object(c.jsx)("td",{children:e.title}),Object(c.jsx)("td",{children:e.route}),Object(c.jsx)("td",{children:e.grade+" "+e.sev}),Object(c.jsx)("td",{children:e.pitches}),Object(c.jsx)("td",{children:e.totalLength}),Object(c.jsx)("td",{children:e.totalTime}),Object(c.jsx)("td",{children:e.elev}),Object(c.jsx)("td",{children:e.date.substring(0,10)})]},e.title)}));return Object(c.jsx)(u.Box,{children:Object(c.jsxs)(u.Table,{children:[Object(c.jsx)("thead",{children:Object(c.jsxs)("tr",{children:[Object(c.jsx)("th",{children:"Name"}),Object(c.jsx)("th",{children:"Route"}),Object(c.jsx)("th",{children:"Grade"}),Object(c.jsx)("th",{children:"Pitches"}),Object(c.jsx)("th",{children:"Length (m)"}),Object(c.jsx)("th",{children:"Time on Route (hrs)"}),Object(c.jsx)("th",{children:"Elevation (m)"}),Object(c.jsx)("th",{children:"Date"})]})}),Object(c.jsx)("tfoot",{children:Object(c.jsxs)("tr",{children:[Object(c.jsx)("th",{children:"TOTALS"}),Object(c.jsx)("th",{}),Object(c.jsx)("th",{}),Object(c.jsx)("th",{children:Je(i)}),Object(c.jsx)("th",{children:Ue(i)}),Object(c.jsx)("th",{children:Ye(i)}),Object(c.jsx)("th",{children:Ve(i)}),Object(c.jsx)("th",{})]})}),Object(c.jsx)("tbody",{children:Object(c.jsx)(Xe,{children:l})})]})})},$e=(n(166),function(e){var t=e.user,n=e.report,s=e.setUserInfo,i=n.desc&&n.desc.length>=688?n.desc.substring(0,688)+" . . .":n.desc,l=Object(r.useState)(!0),j=Object(o.a)(l,2),d=j[0],O=j[1],x=Object(r.useState)(null),m=Object(o.a)(x,2),p=m[0],v=m[1],g=Object(r.useState)(null),f=Object(o.a)(g,2),I=f[0],C=f[1];d&&(L("mountain-placeholder.jpg").then((function(e){return C(e)})),n.coverImg&&L(n.coverImg).then((function(e){v(e)})),O(!1));var w=function(){var e=Object(b.a)(h.a.mark((function e(){var c,r;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("/api/".concat(t,"/picture-trip-reports/").concat(n.id,"/upvote"),{method:"post"});case 2:return c=e.sent,e.next=5,c.json();case 5:r=e.sent,s(r);case 7:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),S=n.coverImg?p:I;return Object(c.jsx)(c.Fragment,{children:Object(c.jsx)(u.List.Item,{children:Object(c.jsxs)(u.Columns,{className:"has-text-left",children:[Object(c.jsx)(u.Columns.Column,{children:Object(c.jsx)(u.Box,{children:Object(c.jsx)("img",{id:"log-img",alt:S,src:S})})}),Object(c.jsxs)(u.Columns.Column,{size:"half",children:[Object(c.jsxs)(u.Level,{children:[Object(c.jsx)(u.Level.Side,{align:"left",children:Object(c.jsx)(u.Level.Item,{children:Object(c.jsxs)("div",{children:[Object(c.jsx)(a.b,{to:"/".concat(t,"/photo-report/").concat(M(n.title)),children:Object(c.jsx)(u.Heading,{className:"has-text-weight-bold",children:n.title})}),Object(c.jsx)(u.Heading,{subtitle:!0,children:n.date.substring(0,n.date.search("T"))})]})})}),Object(c.jsxs)(u.Level.Side,{align:"right",children:[Object(c.jsx)(u.Level.Item,{children:Object(c.jsx)(u.Box,{children:Object(c.jsxs)(u.Heading,{subtitle:!0,children:["Upvotes: ",Object(c.jsx)("strong",{children:n.upvotes})]})})}),Object(c.jsx)(u.Level.Item,{children:Object(c.jsx)(u.Button,{onClick:function(){return w()},color:"white",children:Object(c.jsx)(u.Image,{size:32,src:"http://localhost:3000/images/upvote-icon.png"})})})]})]}),Object(c.jsx)("p",{style:{whiteSpace:"pre-line"},children:i})]}),Object(c.jsx)(u.Columns.Column,{children:Object(c.jsxs)(u.Box,{children:[Object(c.jsx)(Be,{name:"Route",content:n.route}),Object(c.jsx)(Be,{name:"Location",content:n.loc}),Object(c.jsxs)(u.Level,{children:[Object(c.jsx)(u.Level.Side,{align:"left",children:Object(c.jsx)(u.Level.Item,{children:Object(c.jsx)(u.Heading,{heading:!0,className:"has-text-weight-bold",children:"Coordinates"})})}),Object(c.jsx)(u.Level.Side,{align:"right",children:Object(c.jsx)(u.Level.Item,{children:Object(c.jsxs)(u.Heading,{heading:!0,children:[n.coord[0],", ",n.coord[1]]})})})]}),Object(c.jsxs)(u.Level,{id:"centered-level-item",children:[Object(c.jsx)(u.Level.Item,{children:Object(c.jsx)(Te,{name:"Discipline",content:n.disc})}),Object(c.jsx)(u.Level.Item,{children:Object(c.jsx)(Te,{name:"Grade",content:n.grade?n.grade+" "+n.sev:"\u2014"})}),Object(c.jsx)(u.Level.Item,{children:Object(c.jsx)(Te,{name:"Pitches",content:n.pitches})})]}),Object(c.jsxs)(u.Level,{id:"centered-level-item",children:[Object(c.jsx)(u.Level.Item,{children:Object(c.jsx)(Te,{name:"Total Length (m)",content:n.totalLength})}),Object(c.jsx)(u.Level.Item,{children:Object(c.jsx)(Te,{name:"Time (hrs)",content:n.totalTime})}),Object(c.jsx)(u.Level.Item,{children:Object(c.jsx)(Te,{name:"Elevation (m)",content:n.elev})})]})]})})]})})})}),Qe=function(e){var t=e.userInfo,n=e.setUserInfo,s=e.sortBy,i=void 0===s?"date":s,l=t.pitchReports,a=Ge(t.pitchReports,i);return 0===l.length?Object(c.jsx)(u.Hero,{color:"primary",size:"small",children:Object(c.jsx)(u.Hero.Body,{children:Object(c.jsx)(u.Container,{children:Object(c.jsx)(u.Heading,{size:3,align:"center",children:"No reports added! Click 'Add Report' to get started."})})})}):Object(c.jsx)(u.List,{children:Object(c.jsx)(Xe,{children:a.map((function(e){return Object(c.jsx)("div",{ref:Object(r.createRef)(),children:Object(c.jsx)($e,{user:t.user,report:e,setUserInfo:n},e.title)},e.title)}))})})},et=n(60),tt=n.n(et),nt=u.Form.Field,ct=u.Form.Control,rt=function(e){var t=e.match,n=(e.history,t.params.user),s=Object(r.useState)(t.params.view),i=Object(o.a)(s,2),l=i[0],a=i[1],j=Object(r.useState)(null),d=Object(o.a)(j,2),O=d[0],x=d[1],m=Object(r.useState)("date"),p=Object(o.a)(m,2),v=p[0],g=p[1],f=function(e){return e?"success":""};O||tt.a.animateScroll.scrollTo(57);return Object(r.useEffect)((function(){(function(){var e=Object(b.a)(h.a.mark((function e(){var t,c;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("/".concat(n,"/picture-trip-reports"));case 2:return t=e.sent,e.next=5,t.json();case 5:c=e.sent,x(c);case 7:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}})()()}),[n]),Object(c.jsxs)(c.Fragment,{children:[Object(c.jsx)("div",{style:{margin:"1rem"},children:Object(c.jsxs)(u.Level,{renderAs:"nav",children:[Object(c.jsx)(u.Level.Side,{align:"left",children:Object(c.jsx)(u.Level.Item,{children:Object(c.jsxs)(nt,{kind:"addons",children:[Object(c.jsx)(ct,{children:Object(c.jsx)(u.Button,{color:f("list"===l),onClick:function(){a("list")},children:"List View"})}),Object(c.jsx)(ct,{children:Object(c.jsx)(u.Button,{color:f("maps"===l),onClick:function(){a("maps")},children:"Map View"})}),Object(c.jsx)(ct,{children:Object(c.jsx)(u.Button,{color:f("table"===l),onClick:function(){a("table")},children:"Table View"})})]})})}),Object(c.jsx)(u.Level.Side,{align:"right",children:Object(c.jsx)(u.Level.Item,{children:Object(c.jsxs)(nt,{kind:"addons",children:[Object(c.jsx)(ct,{children:Object(c.jsx)(u.Button,{color:f("date"===v),onClick:function(){return g("date")},children:"Date"})}),Object(c.jsx)(ct,{children:Object(c.jsx)(u.Button,{color:f("grade"===v),onClick:function(){return g("grade")},children:"Grade"})}),Object(c.jsx)(ct,{children:Object(c.jsx)(u.Button,{color:f("pitch"===v),onClick:function(){return g("pitch")},children:"Pitch"})}),Object(c.jsx)(ct,{children:Object(c.jsx)(u.Button,{color:f("length"===v),onClick:function(){return g("length")},children:"Length"})}),Object(c.jsx)(ct,{children:Object(c.jsx)(u.Button,{color:f("time"===v),onClick:function(){return g("time")},children:"Time"})}),Object(c.jsx)(ct,{children:Object(c.jsx)(u.Button,{color:f("elevation"===v),onClick:function(){return g("elevation")},children:"Elevation"})})]})})})]})}),function(e,t,n){if(!e)return null;switch(t){case"maps":return Object(c.jsxs)(u.Columns,{children:[Object(c.jsx)(u.Columns.Column,{}),Object(c.jsx)(u.Columns.Column,{size:"two-thirds",children:Object(c.jsxs)(u.Box,{children:[Object(c.jsx)(Ne,{user:e.user}),";"]})}),Object(c.jsx)(u.Columns.Column,{})]});case"table":return Object(c.jsx)(Ke,{userInfo:e,sortBy:n});case"list":return Object(c.jsx)(Qe,{userInfo:e,setUserInfo:x,sortBy:n});default:return null}}(O,l,v)]})},st=n(98),it=n(104),lt=n(103),at=function(e){Object(it.a)(n,e);var t=Object(lt.a)(n);function n(){return Object(V.a)(this,n),t.apply(this,arguments)}return Object(st.a)(n,[{key:"componentDidUpdate",value:function(e){this.props.location!==e.location&&window.scrollTo(0,0)}},{key:"render",value:function(){return this.props.children}}]),n}(r.Component),jt=Object(j.f)(at),ot=(n(174),n.p+"static/media/mountain-logo.a3a8cb8f.jpg"),dt=Object(j.f)((function(e){var t=Object(r.useState)(!1),n=Object(o.a)(t,2),s=n[0],i=n[1];return Object(c.jsxs)(u.Navbar,{children:[Object(c.jsxs)(u.Navbar.Brand,{children:[Object(c.jsx)(u.Navbar.Item,{renderAs:"a",href:"#",children:Object(c.jsx)("img",{src:ot,alt:"logo",width:"112"})}),Object(c.jsxs)(u.Navbar.Burger,{onClick:function(){return i(!s)},children:[Object(c.jsx)("span",{}),Object(c.jsx)("span",{}),Object(c.jsx)("span",{})]})]}),Object(c.jsxs)(u.Navbar.Menu,{children:[Object(c.jsxs)(u.Navbar.Container,{children:[Object(c.jsx)(a.b,{to:"/tom-novak/home",className:"navbar-item",children:"Home"}),Object(c.jsx)(u.Navbar.Item,{dropdown:!0,hoverable:!0,children:Object(c.jsx)(u.Navbar.Link,{arrowless:!0,children:Object(c.jsx)(a.b,{to:"/tom-novak/trip-report-feed/list",className:"navbar-item",children:"Trip Reports"})})})]}),Object(c.jsx)(u.Navbar.Container,{position:"end",children:Object(c.jsx)(u.Navbar.Item,{children:Object(c.jsx)(u.Button,{onClick:function(){return e.history.push("/tom-novak/add-pitch-report")},color:"primary",children:"Add Report"})})})]})]})})),ht=function(){return Object(c.jsx)(u.Footer,{children:Object(c.jsx)(u.Content,{className:"has-text-centered",children:Object(c.jsxs)("p",{children:[Object(c.jsx)("strong",{children:"Trips"})," by Tom Novak"]})})})},bt=(n(175),Object(j.f)((function(e){var t=Object(r.useState)(!1),n=Object(o.a)(t,2),s=n[0],i=n[1],l=Object(r.useState)("yds"),a=Object(o.a)(l,2),j=a[0],d=a[1],O=Object(r.useState)(!1),x=Object(o.a)(O,2),m=x[0],p=x[1],v=e.reportInfo?new z.a(e.reportInfo.grade,e.reportInfo.gradeSystem):null,g=e.show?"show":"hide",f=function(){var t=Object(b.a)(h.a.mark((function t(){return h.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,fetch("/api/".concat(e.user,"/picture-trip-reports/").concat(e.reportInfo.id,"/delete"),{method:"post"});case 2:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}(),I=m?Object(c.jsx)(u.Message,{color:"danger",children:Object(c.jsxs)(u.Message.Header,{children:["Are you sure?",Object(c.jsx)(u.Button,{color:"danger",onClick:function(){f(),e.history.push("/tom-novak/trip-reports")},children:"Delete"}),Object(c.jsx)(u.Button,{remove:!0,onClick:function(){return p(!1)}})]})}):null;return Object(c.jsxs)(u.Columns.Column,{id:"flyout-detail-column",className:g,children:[Object(c.jsxs)(u.Box,{id:"flyout-title-box",children:[Object(c.jsx)(u.Heading,{align:"left",className:"is-size-4",style:{margin:"0px 0px 5px 0px"},children:e.reportInfo.title}),Object(c.jsx)(u.Heading,{align:"left",className:"is-size-6",style:{margin:"0px 0px 0px 0px"},children:e.reportInfo.author})]}),Object(c.jsxs)(u.Box,{id:"flyout-detail-box",style:{height:"calc( ".concat(e.height," + 11vh )")},children:[Object(c.jsx)(Be,{name:"Route",content:F(e.reportInfo.route)}),Object(c.jsx)(Be,{name:"Location",content:F(e.reportInfo.loc)}),Object(c.jsxs)(u.Level,{children:[Object(c.jsxs)(u.Level.Side,{align:"right",children:[Object(c.jsx)(u.Level.Item,{children:Object(c.jsx)(u.Heading,{heading:!0,className:"has-text-weight-bold",children:"Coordinates"})}),Object(c.jsx)(u.Level.Item,{children:Object(c.jsxs)(u.Heading,{heading:!0,children:[F(e.reportInfo.coord[0]),", ",F(e.reportInfo.coord[1])]})})]}),Object(c.jsx)(u.Level.Side,{align:"right",children:Object(c.jsxs)(u.Level.Item,{children:[Object(c.jsx)(u.Button,{color:"primary",onClick:function(){return i(!0)},children:"Show on map"}),Object(c.jsx)(u.Modal,{closeOnBlur:!0,showClose:!1,show:s,onClose:function(){return i(!1)},children:Object(c.jsx)(u.Modal.Content,{children:Object(c.jsx)(u.Container,{children:Object(c.jsxs)(B.a,{id:"modal-map",center:[e.reportInfo.coord[0],e.reportInfo.coord[1]],zoom:12,children:[Object(c.jsx)(N.a,{url:"https://api.mapbox.com/styles/v1/{id}/tiles/{z}/{x}/{y}?access_token={accessToken}",attribution:'Map data \xa9 <a href="https://www.openstreetmap.org/">OpenStreetMap</a> contributors, <a href="https://creativecommons.org/licenses/by-sa/2.0/">CC-BY-SA</a>, Imagery (c) <a href="https://www.mapbox.com/">Mapbox</a>',maxZoom:18,id:"mapbox/outdoors-v11",accessToken:"pk.eyJ1IjoidG9tbm92YWsxMyIsImEiOiJja2VseGtxeGwyYmU0MnJtejdiZmIydHd2In0.Wx7ng-I076vOfOb2qNnTkA"}),Object(c.jsx)(D.a,{position:[e.reportInfo.coord[0],e.reportInfo.coord[1]]})]})})})})]})})]}),Object(c.jsxs)(u.Columns,{children:[Object(c.jsx)(u.Columns.Column,{size:"half",children:Object(c.jsxs)(u.Level,{id:"centered-level-item",children:[Object(c.jsx)(u.Level.Item,{children:Object(c.jsx)(Te,{name:"Discipline",content:F(e.reportInfo.disc)})}),Object(c.jsx)(u.Level.Item,{children:Object(c.jsx)(Te,{name:"Grade",content:v?v.format(j)+" "+e.reportInfo.sev:"\u2014"})})]})}),Object(c.jsx)(u.Columns.Column,{align:"right",size:"half",children:Object(c.jsxs)(u.Dropdown,{hoverable:!0,right:!0,value:j,onChange:function(e){d(e)},children:[Object(c.jsx)(u.Dropdown.Item,{value:"yds",children:"YDS"}),Object(c.jsx)(u.Dropdown.Item,{value:"french",children:"French"}),Object(c.jsx)(u.Dropdown.Item,{value:"australian",children:"Australian"}),Object(c.jsx)(u.Dropdown.Item,{value:"british",children:"British"}),Object(c.jsx)(u.Dropdown.Item,{value:"south_african",children:"South African"}),Object(c.jsx)(u.Dropdown.Item,{value:"hueco",children:"Hueco"}),Object(c.jsx)(u.Dropdown.Item,{value:"font",children:"Fontainebleau"})]})})]}),Object(c.jsxs)(u.Level,{id:"centered-level-item",children:[Object(c.jsx)(u.Level.Item,{children:Object(c.jsx)(Te,{name:"Pitches",content:F(e.reportInfo.pitches)})}),Object(c.jsx)(u.Level.Item,{children:Object(c.jsx)(Te,{name:"Total Length (m)",content:F(e.reportInfo.totalLength)})}),Object(c.jsx)(u.Level.Item,{children:Object(c.jsx)(Te,{name:"Elevation (m)",content:F(e.reportInfo.elev)})}),Object(c.jsx)(u.Level.Item,{children:Object(c.jsx)(Te,{name:"Aspect",content:F(e.reportInfo.aspect)})})]}),Object(c.jsx)(u.Box,{children:Object(c.jsx)(ze,{name:"Gear",content:e.reportInfo.gear})}),Object(c.jsx)(u.Box,{children:Object(c.jsx)(ze,{name:"Approach",content:e.reportInfo.approach})}),Object(c.jsx)(u.Box,{children:Object(c.jsx)(ze,{name:"Descent",content:e.reportInfo.descent})}),Object(c.jsx)(u.Box,{style:{"margin-bottom":"15px"},children:Object(c.jsx)(ze,{name:"Conditions",content:e.reportInfo.conditions})}),Object(c.jsxs)(u.Box,{children:[I,Object(c.jsxs)(u.Level,{children:[Object(c.jsx)(u.Level.Item,{children:Object(c.jsx)(u.Button,{onClick:function(){return e.history.push("/tom-novak/edit-photo-report/".concat(e.reportInfo.id))},color:"primary",children:"Edit Report"})}),Object(c.jsx)(u.Level.Item,{children:Object(c.jsx)(u.Button,{onClick:function(){return p(!0)},color:"danger",children:"Delete"})})]})]})]})]})}))),ut=n(201),Ot=(n(176),function(e){var t=e.filled?100:0;return Object(c.jsx)("div",{className:"filler",style:{height:"".concat(t,"%")}})}),xt=function(e){var t=e.segment;return Object(c.jsxs)(c.Fragment,{children:[Object(c.jsx)("p",{className:"is-size-7",children:"Pitch ".concat(t.pitch)}),Object(c.jsx)("p",{className:"is-size-7",children:t.grade}),Object(c.jsx)("p",{className:"is-size-7",children:"".concat(t.length," m")})]})},mt=function(e){var t=e.className,n=e.segment,r=e.height,s=e.filled,i=e.toolTip;return n&&n.pitch&&n.grade&&n.length?Object(c.jsx)("div",{children:Object(c.jsx)(ut.a,{title:Object(c.jsx)(xt,{segment:n}),placement:"right",arrow:!0,open:i,children:Object(c.jsx)("div",{style:{height:"".concat(r,"px")},className:t,children:Object(c.jsx)(Ot,{filled:s})})})}):Object(c.jsx)("div",{style:{height:"".concat(r,"px")},className:t,children:Object(c.jsx)(Ot,{filled:s})})},pt=function(e){var t=e.segmentArray,n=e.filledIndex,r=Math.round((window.innerHeight-122)/t.length),s=Object(k.a)(t).reverse(),i=t.length-function(e,t){return isNaN(t)?"Descent"===t?e.length:0:t}(t,n),l=0===i?"#1DA598":"white";return Object(c.jsxs)(c.Fragment,{children:[Object(c.jsx)("p",{heading:"true",id:"descent-segment",className:"is-size-4 has-text-weight-bold",style:{"margin-top":"15px","margin-left":"10px",color:l},children:"Descent"}),s.map((function(e,n){return 0===n?Object(c.jsx)(mt,{className:"route-progress-end",height:r,segment:e,filled:n>=i-1,toolTip:n===i-1},"prog-bar-segment-".concat(n)):n===t.length-2?Object(c.jsx)(mt,{className:"route-progress-start",height:r,segment:e,filled:n>=i-1,toolTip:n===i-1},"prog-bar-segment-".concat(n)):n===t.length-1?null:Object(c.jsx)(mt,{className:"route-progress-middle",height:r,segment:e,filled:n>=i-1,toolTip:n===i-1},"prog-bar-segment-".concat(n))})),Object(c.jsx)("p",{heading:"true",id:"approach-segment",color:"primary",className:"is-size-4 has-text-weight-bold",children:"Approach"})]})},vt=(n(177),n(178),function(){tt.a.animateScroll.scrollTo(57)}),gt=function(e){var t=e.match,n=t.params.user,s=t.params.reportID,i=Object(r.useState)(0),l=Object(o.a)(i,2),a=l[0],j=l[1],d=Object(r.useState)(null),O=Object(o.a)(d,2),x=O[0],m=O[1],p=Object(r.useState)(!1),v=Object(o.a)(p,2),g=v[0],f=v[1],I=Object(r.useState)("72vh"),C=Object(o.a)(I,2),w=C[0],S=C[1],y=Object(r.useState)("is-7"),D=Object(o.a)(y,2),B=D[0],N=D[1],M=Object(r.useState)("is-4"),T=Object(o.a)(M,2),z=T[0],A=T[1],G=Object(r.useState)([]),F=Object(o.a)(G,2),H=F[0],E=F[1],R=Object(r.useState)([]),P=Object(o.a)(R,2),W=P[0],_=P[1],J=Object(r.useState)([]),Y=Object(o.a)(J,2),V=Y[0],Z=Y[1],q=Object(r.useState)(!0),X=Object(o.a)(q,2),K=X[0],$=X[1];if(x&&x.pitchArray.length>0&&0===W.length){var Q=[],ee=isNaN(x.pitches)?[]:new Array(parseInt(x.pitches,10)).fill(null);x.coverImg&&(Q=Q.concat({image:x.coverImg,caption:x.desc,grade:null,length:null,number:"Summary"})),x.pitchArray.map((function(e){return e&&(isNaN(e.number)||(ee[e.number]={pitch:e.number,grade:e.grade._inputGrade,length:e.length}),e.images.map((function(t,n){return Q=Q.concat({image:t,caption:e.captions[n],grade:e.grade,length:e.length,number:e.number}),0}))),0})),_(Q),isNaN(x.pitches)?Z([]):Z(ee)}if(W.length>0&&0===H.length){var te=new Array(W.length),ne=0;for(ne=0;ne<W.length;ne++)te[ne]=Object(r.createRef)();E(te)}if(x&&K&&W.length>0){var ce=Object(k.a)(W);W.map((function(e,t){return L(e.image).then((function(e){ce[t].image=e,t===W.length-1&&_(ce)})),0})),$(!1)}x||vt(),Object(r.useEffect)((function(){(function(){var e=Object(b.a)(h.a.mark((function e(){var t,c;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("/".concat(n,"/picture-trip-reports/").concat(s));case 2:return t=e.sent,e.next=5,t.json();case 5:c=e.sent,m(c);case 7:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}})()()}),[n,s]);var re=function(e){a!==e&&j(e)},se=x?Object(c.jsx)(bt,{user:n,reportInfo:x,show:!g,columnWidth:z,height:w}):null,ie=W.length>0?W.map((function(e,t){return Object(c.jsx)("div",{style:{height:w,transition:"height .3s ease-out"},children:!K&&Object(c.jsx)("img",{alt:e.image,src:e.image,ref:H[t]})},e)})):null,le=V.length>0&&W[a]?Object(c.jsx)(pt,{segmentArray:V,filledIndex:W[a].number}):null;return Object(c.jsxs)(u.Columns,{className:"has-background-dark",id:"picture-report-content",children:[Object(c.jsx)(u.Columns.Column,{className:"is-1",children:le}),Object(c.jsxs)(u.Columns.Column,{id:"picture-report-column",className:B,children:[Object(c.jsx)(U.Carousel,{showThumbs:!1,onChange:re,onClickItem:function(){return function(){var e=!g;if(f(!g),H[a].current&&e){var t=H[a].current.naturalHeight/H[a].current.naturalWidth,n=window.innerWidth*(10/12)*t;S("".concat(n,"px")),N("is-10"),A(null)}else S("72vh"),N("is-7"),A("is-4"),vt()}()},selectedItem:a,children:ie}),Object(c.jsx)("div",{ref:Object(r.createRef)(),children:Object(c.jsx)(U.Carousel,{showThumbs:!1,showStatus:!1,showIndicators:!1,onChange:re,selectedItem:a,children:W.length>0?W.map((function(e,t){return Object(c.jsx)("div",{children:Object(c.jsxs)(u.Message,{children:[Object(c.jsx)(u.Message.Header,{children:(n=e.number,isNaN(n)?n:"Pitch ".concat(n))}),Object(c.jsx)(u.Message.Body,{style:{height:"18vh",overflowY:"scroll",scrollbarWidth:"none"},children:Object(c.jsx)("p",{align:"left",heading:"true",className:"is-size-6",children:e.caption})})]})},t);var n})):null})})]}),se]})};var ft=function(){return Object(c.jsx)(a.a,{children:Object(c.jsx)(jt,{children:Object(c.jsxs)("div",{className:"App",children:[Object(c.jsx)(dt,{}),Object(c.jsxs)("div",{id:"page-body",children:[Object(c.jsx)(j.b,{exact:!0,path:"/",children:Object(c.jsx)(j.a,{to:"/tom-novak/home"})}),Object(c.jsx)(j.b,{path:"/:user/home",component:Me,exact:!0}),Object(c.jsx)(j.b,{path:"/:user/about",component:y}),Object(c.jsx)(j.b,{path:"/:user/trip-report-feed/:view",exact:!0,component:rt}),Object(c.jsx)(j.b,{path:"/:user/trip-reports/:reportID",component:Ae}),Object(c.jsx)(j.b,{path:"/:user/add-report",component:Y}),Object(c.jsx)(j.b,{path:"/:user/add-pitch-report",component:ae}),Object(c.jsx)(j.b,{path:"/:user/photo-report/:reportID",component:gt}),Object(c.jsx)(j.b,{path:"/:user/edit-report/:reportID",component:xe}),Object(c.jsx)(j.b,{path:"/:user/edit-photo-report/:reportID",component:we})]}),Object(c.jsx)(ht,{})]})})})};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));l.a.render(Object(c.jsx)(s.a.StrictMode,{children:Object(c.jsx)(ft,{})}),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))},40:function(e,t,n){},47:function(e,t,n){}},[[180,1,2]]]);
//# sourceMappingURL=main.5a55dd26.chunk.js.map